[{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"load-the-necessary-libraries","dir":"Articles > R-workflows","previous_headings":"R set up","what":"Load the necessary libraries","title":"Checking habitat data exported from TransectMeasure","text":"","code":"library(devtools) library(CheckEM) library(tidyverse) library(ggplot2) library(ggbeeswarm) library(leaflet) library(leaflet.minicharts) library(RColorBrewer) library(here) library(tidyverse)"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"set-the-study-name","dir":"Articles > R-workflows","previous_headings":"R set up","what":"Set the study name","title":"Checking habitat data exported from TransectMeasure","text":"","code":"name <- \"example-bruv-workflow\""},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"load-and-format-the-metadata","dir":"Articles > R-workflows","previous_headings":"Read in the data","what":"Load and format the metadata","title":"Checking habitat data exported from TransectMeasure","text":"","code":"metadata <- read_metadata(here::here(\"r-workflows/data/raw/\")) %>%     dplyr::select(campaignid, sample, longitude_dd, latitude_dd, date_time, location, site, depth, successful_count, successful_length, successful_habitat_forward, successful_habitat_backward) %>%   glimpse() ## Rows: 32 ## Columns: 12 ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_s… ## $ sample                      <chr> \"35\", \"5\", \"26\", \"23\", \"29\", \"4\", \"32\", \"3… ## $ longitude_dd                <chr> \"114.923645\", \"114.9292367\", \"114.92843\", … ## $ latitude_dd                 <chr> \"-34.13155\", \"-34.12952667\", \"-34.12729\", … ## $ date_time                   <chr> \"14/03/2023 23:36\", \"14/03/2023 23:49\", \"1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth                       <chr> \"39.6\", \"42.7\", \"36\", \"41\", \"42.6\", \"45\", … ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_backward <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"save-the-metadata-as-an-r-data-file-this-creates-a-lighter-file-than-saving-as-a--csv-or-similar","dir":"Articles > R-workflows","previous_headings":"Read in the data","what":"Save the metadata as an R data file (this creates a lighter file than saving as a .csv or similar)","title":"Checking habitat data exported from TransectMeasure","text":"","code":"saveRDS(metadata, file = here::here(paste0(\"r-workflows/data/tidy/\", name, \"_Metadata.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"read-in-the-points-data-exported-from-transect-measure-and-then-filter-this-into-2-dataframes-for-relief-and-habitat-annotations","dir":"Articles > R-workflows","previous_headings":"Read in the data","what":"Read in the points data exported from Transect Measure, and then filter this into 2 dataframes for relief and habitat annotations","title":"Checking habitat data exported from TransectMeasure","text":"","code":"points <- read_TM(here::here(\"r-workflows/data/raw/\"),                                sample = \"opcode\") ## Rows: 2,483 ## Columns: 32 ## $ filename         <chr> \"10_1_DSC06511.JPG\", \"10_1_DSC06511.JPG\", \"10_1_DSC06… ## $ frame            <chr> \"      0\", \"      0\", \"      0\", \"      0\", \"      0\"… ## $ time_mins        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ image_row        <chr> \"790\", \"986\", \"683\", \"778\", \"976\", \"1009\", \"807\", \"88… ## $ image_col        <chr> \"83\", \"591\", \"930\", \"1829\", \"1654\", \"485\", \"525\", \"83… ## $ date             <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ location         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ site             <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ transect         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ latitude         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ longitude        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ rugosity         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ depth            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ collector        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ fishing_status   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ campaignid       <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs… ## $ relief_annotated <chr> \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\",… ## $ sample           <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\",… ## $ period           <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\"… ## $ frame_info_3     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ frame_info_4     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ frame_info_5     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ frame_info_6     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ level_2          <chr> \"Macroalgae\", \"Seagrasses\", \"Substrate\", \"Macroalgae\"… ## $ level_3          <chr> \"Filamentous / filiform\", \"Strap-like leaves\", \"Uncon… ## $ level_4          <chr> \"Red\", NA, \"Sand / mud (<2mm)\", \"Red\", \"Red\", NA, NA,… ## $ level_5          <chr> NA, NA, \"Coarse sand (with shell fragments)\", NA, NA,… ## $ scientific       <chr> NA, \"Thalassodendron spp\", NA, NA, NA, \"Thalassodendr… ## $ qualifiers       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ caab_code        <chr> \"80300933\", \"63618905\", \"82001014\", \"80300906\", \"8030… ## $ x                <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… ## $ radius           <chr> \"67.0\", \"24.7\", \"18.2\", \"97.8\", \"82.6\", \"34.1\", \"25.2…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"filter-the-data-to-only-include-habitat-annotations","dir":"Articles > R-workflows","previous_headings":"Read in the data > Read in the points data exported from Transect Measure, and then filter this into 2 dataframes for relief and habitat annotations","what":"Filter the data to only include habitat annotations","title":"Checking habitat data exported from TransectMeasure","text":"","code":"habitat <- points %>%   dplyr::filter(relief_annotated %in% \"no\") %>%   dplyr::select(campaignid, sample, starts_with(\"level\"), scientific) %>%   glimpse() ## Rows: 1,241 ## Columns: 7 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\",… ## $ level_2    <chr> \"Macroalgae\", \"Seagrasses\", \"Substrate\", \"Macroalgae\", \"Mac… ## $ level_3    <chr> \"Filamentous / filiform\", \"Strap-like leaves\", \"Unconsolida… ## $ level_4    <chr> \"Red\", NA, \"Sand / mud (<2mm)\", \"Red\", \"Red\", NA, NA, \"Brow… ## $ level_5    <chr> NA, NA, \"Coarse sand (with shell fragments)\", NA, NA, NA, N… ## $ scientific <chr> NA, \"Thalassodendron spp\", NA, NA, NA, \"Thalassodendron spp…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"filter-the-data-to-only-include-relief-annotations","dir":"Articles > R-workflows","previous_headings":"Read in the data > Read in the points data exported from Transect Measure, and then filter this into 2 dataframes for relief and habitat annotations","what":"Filter the data to only include relief annotations","title":"Checking habitat data exported from TransectMeasure","text":"","code":"relief <- points %>%   dplyr::filter(relief_annotated %in% \"yes\") %>%   dplyr::select(campaignid, sample, starts_with(\"level\"), scientific) %>%   glimpse() ## Rows: 1,242 ## Columns: 7 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\",… ## $ level_2    <chr> NA, \"Relief\", \"Relief\", \"Relief\", NA, \"Relief\", \"Relief\", \"… ## $ level_3    <chr> NA, \"High\", \"High\", \"High\", NA, \"High\", \"Low / moderate\", \"… ## $ level_4    <chr> NA, \"High (>3m)\", \"High (>3m)\", \"High (>3m)\", NA, \"High (>3… ## $ level_5    <chr> NA, \"3\", \"3\", \"3\", NA, \"3\", \"2\", \"3\", NA, \"3\", \"2\", \"2\", NA… ## $ scientific <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…"},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"set-the-number-of-expected-annotations-to-check-against","dir":"Articles > R-workflows","previous_headings":"Check the data for a variety of errors","what":"Set the number of expected annotations to check against","title":"Checking habitat data exported from TransectMeasure","text":"","code":"num.points <- 20"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"check-if-there-are-habitat-annotations-with-an-unexpected-number-of-annotation-points","dir":"Articles > R-workflows","previous_headings":"Check the data for a variety of errors","what":"Check if there are habitat annotations with an unexpected number of annotation points","title":"Checking habitat data exported from TransectMeasure","text":"","code":"wrong.points.habitat <- habitat %>%   group_by(campaignid, sample) %>%   summarise(points.annotated = n()) %>%   left_join(metadata) %>%   dplyr::mutate(expected = case_when(successful_habitat_forward %in% \"Yes\" & successful_habitat_backward %in% \"Yes\" ~ num.points * 2, successful_habitat_forward %in% \"Yes\" & successful_habitat_backward %in% \"No\" ~ num.points * 1, successful_habitat_forward %in% \"No\" & successful_habitat_backward %in% \"Yes\" ~ num.points * 1, successful_habitat_forward %in% \"No\" & successful_habitat_backward %in% \"No\" ~ num.points * 0)) %>%   dplyr::filter(!points.annotated == expected) %>%   glimpse() ## `summarise()` has grouped output by 'campaignid'. You can override using the ## `.groups` argument. ## Joining with `by = join_by(campaignid, sample)` ## Rows: 5 ## Columns: 14 ## Groups: campaignid [1] ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_s… ## $ sample                      <chr> \"21\", \"3\", \"37\", \"45\", \"47\" ## $ points.annotated            <int> 20, 41, 20, 20, 20 ## $ longitude_dd                <chr> \"114.857485\", \"114.9156417\", \"114.9235817\"… ## $ latitude_dd                 <chr> \"-34.06438333\", \"-34.10734167\", \"-34.10853… ## $ date_time                   <chr> \"18/03/2023 2:34\", \"15/03/2023 1:54\", \"15/… ## $ location                    <chr> NA, NA, NA, NA, NA ## $ site                        <chr> NA, NA, NA, NA, NA ## $ depth                       <chr> \"42.3\", \"46.7\", \"46.1\", \"61.9\", \"73\" ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_habitat_forward  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_habitat_backward <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ expected                    <dbl> 40, 40, 40, 40, 40"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"check-if-there-are-habitat-annotations-with-an-unexpected-number-of-annotation-points-1","dir":"Articles > R-workflows","previous_headings":"Check the data for a variety of errors","what":"Check if there are habitat annotations with an unexpected number of annotation points","title":"Checking habitat data exported from TransectMeasure","text":"","code":"wrong.points.relief <- relief %>%   group_by(campaignid, sample) %>%   summarise(points.annotated = n()) %>%   left_join(metadata) %>%   dplyr::mutate(expected = case_when(successful_habitat_forward %in% \"Yes\" & successful_habitat_backward %in% \"Yes\" ~ num.points * 2, successful_habitat_forward %in% \"Yes\" & successful_habitat_backward %in% \"No\" ~ num.points * 1, successful_habitat_forward %in% \"No\" & successful_habitat_backward %in% \"Yes\" ~ num.points * 1, successful_habitat_forward %in% \"No\" & successful_habitat_backward %in% \"No\" ~ num.points * 0)) %>%   dplyr::filter(!points.annotated == expected) %>%   glimpse() ## `summarise()` has grouped output by 'campaignid'. You can override using the ## `.groups` argument. ## Joining with `by = join_by(campaignid, sample)` ## Rows: 4 ## Columns: 14 ## Groups: campaignid [1] ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_s… ## $ sample                      <chr> \"17\", \"21\", \"23\", \"47\" ## $ points.annotated            <int> 41, 20, 41, 20 ## $ longitude_dd                <chr> \"114.85758\", \"114.857485\", \"114.9189517\", … ## $ latitude_dd                 <chr> \"-34.09634667\", \"-34.06438333\", \"-34.12832… ## $ date_time                   <chr> \"15/03/2023 3:00\", \"18/03/2023 2:34\", \"15/… ## $ location                    <chr> NA, NA, NA, NA ## $ site                        <chr> NA, NA, NA, NA ## $ depth                       <chr> \"43.3\", \"42.3\", \"41\", \"73\" ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_habitat_forward  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ successful_habitat_backward <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\" ## $ expected                    <dbl> 40, 40, 40, 40"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"check-to-see-if-there-are-any-samples-in-habitat-that-dont-have-a-match-in-the-metadata","dir":"Articles > R-workflows","previous_headings":"Check the data for a variety of errors","what":"Check to see if there are any samples in habitat that don’t have a match in the metadata","title":"Checking habitat data exported from TransectMeasure","text":"","code":"habitat.missing.metadata <- anti_join(habitat, metadata, by = c(\"campaignid\", \"sample\")) %>%   glimpse() ## Rows: 40 ## Columns: 7 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ level_2    <chr> \"Substrate\", \"Substrate\", \"Substrate\", \"Substrate\", \"Substr… ## $ level_3    <chr> \"Unconsolidated (soft)\", \"Unconsolidated (soft)\", \"Unconsol… ## $ level_4    <chr> \"Sand / mud (<2mm)\", \"Sand / mud (<2mm)\", \"Sand / mud (<2mm… ## $ level_5    <chr> \"Coarse sand (with shell fragments)\", \"Coarse sand (with sh… ## $ scientific <chr> NA, NA, NA, NA, NA, NA, NA, NA, \"Thalassodendron spp\", NA, …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"check-to-see-if-there-are-any-samples-in-the-metadata-that-dont-have-matching-habitat","dir":"Articles > R-workflows","previous_headings":"Check the data for a variety of errors","what":"Check to see if there are any samples in the metadata that don’t have matching habitat","title":"Checking habitat data exported from TransectMeasure","text":"","code":"metadata.missing.habitat <- anti_join(metadata, habitat, by = c(\"campaignid\", \"sample\")) %>%   glimpse() ## Rows: 0 ## Columns: 12 ## $ campaignid                  <chr>  ## $ sample                      <chr>  ## $ longitude_dd                <chr>  ## $ latitude_dd                 <chr>  ## $ date_time                   <chr>  ## $ location                    <chr>  ## $ site                        <chr>  ## $ depth                       <chr>  ## $ successful_count            <chr>  ## $ successful_length           <chr>  ## $ successful_habitat_forward  <chr>  ## $ successful_habitat_backward <chr>"},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"tidy-the-habitat-data-by-joining-with-the-complete-schema-file-that-is-loaded-with-the-checkem-package","dir":"Articles > R-workflows","previous_headings":"Format and save the final tidy dataset","what":"Tidy the habitat data by joining with the complete schema file that is loaded with the CheckEM package","title":"Checking habitat data exported from TransectMeasure","text":"","code":"tidy.habitat <- habitat %>%   dplyr::mutate(number = 1) %>%                                        left_join(catami) %>%   dplyr::select(campaignid, sample, number, starts_with(\"level\"), family, genus, species) %>%   dplyr::filter(!level_2 %in% c(\"\",\"Unscorable\", NA)) %>%     group_by(campaignid, sample, across(starts_with(\"level\")), family, genus, species) %>%   dplyr::tally(number, name = \"number\") %>%   ungroup() %>%                                                        dplyr::select(campaignid, sample, level_1, everything()) %>%   glimpse() ## Joining with `by = join_by(level_2, level_3, level_4, level_5)` ## Warning in left_join(., catami): Detected an unexpected many-to-many relationship between `x` and `y`. ## ℹ Row 23 of `x` matches multiple rows in `y`. ## ℹ Row 193 of `y` matches multiple rows in `x`. ## ℹ If a many-to-many relationship is expected, set `relationship = ##   \"many-to-many\"` to silence this warning. ## Rows: 369 ## Columns: 14 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"12\", \"12\",… ## $ level_1    <chr> \"Biota\", \"Biota\", \"Biota\", \"Biota\", \"Biota\", \"Biota\", \"Biot… ## $ level_2    <chr> \"Macroalgae\", \"Macroalgae\", \"Macroalgae\", \"Macroalgae\", \"Se… ## $ level_3    <chr> \"Erect coarse branching\", \"Erect coarse branching\", \"Erect … ## $ level_4    <chr> \"Brown\", \"Red\", \"Red\", \"Red\", NA, \"Laminar\", \"Simple\", \"San… ## $ level_5    <chr> NA, NA, NA, NA, NA, NA, NA, \"Coarse sand (with shell fragme… ## $ level_6    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ level_7    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ level_8    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ family     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Le… ## $ genus      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Ec… ## $ species    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"ra… ## $ number     <dbl> 2, 3, 2, 1, 14, 1, 1, 3, 5, 8, 1, 2, 3, 3, 7, 7, 7, 7, 7, 2…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"save-the-tidy-habitat-data-as-an-r-data-file","dir":"Articles > R-workflows","previous_headings":"Format and save the final tidy dataset","what":"Save the tidy habitat data as an R data file","title":"Checking habitat data exported from TransectMeasure","text":"","code":"saveRDS(tidy.habitat, file = here::here(paste0(\"r-workflows/data/staging/\", name, \"_habitat.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"tidy-the-relief-data-by-joining-with-the-complete-schema-file-that-is-loaded-with-the-checkem-package","dir":"Articles > R-workflows","previous_headings":"Format and save the final tidy dataset","what":"Tidy the relief data by joining with the complete schema file that is loaded with the CheckEM package","title":"Checking habitat data exported from TransectMeasure","text":"","code":"tidy.relief <- relief %>%   dplyr::select(campaignid, sample, starts_with(\"level\"), scientific) %>%   dplyr::filter(!level_2 %in% c(\"\",\"Unscorable\", NA)) %>%                 dplyr::mutate(number = 1) %>%    left_join(catami) %>%   group_by(campaignid, sample, across(starts_with(\"level\"))) %>%    dplyr::tally(number, name = \"number\") %>%   ungroup() %>%                                                        glimpse() ## Joining with `by = join_by(level_2, level_3, level_4, level_5)` ## Rows: 73 ## Columns: 11 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> \"10\", \"10\", \"10\", \"12\", \"12\", \"14\", \"14\", \"14\", \"15\", \"15\",… ## $ level_2    <chr> \"Relief\", \"Relief\", \"Relief\", \"Relief\", \"Relief\", \"Relief\",… ## $ level_3    <chr> \"High\", \"High\", \"Low / moderate\", \"High\", \"Low / moderate\",… ## $ level_4    <chr> \"High (>3m)\", \"Wall\", \"Moderate (1-3m)\", \"High (>3m)\", \"Mod… ## $ level_5    <chr> \"3\", \"4\", \"2\", \"3\", \"2\", \"3\", \"1\", \"2\", \"3\", \"4\", \"1\", \"2\",… ## $ level_1    <chr> \"Physical\", \"Physical\", \"Physical\", \"Physical\", \"Physical\",… ## $ level_6    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ level_7    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ level_8    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… ## $ number     <dbl> 8, 10, 5, 17, 4, 14, 3, 8, 16, 1, 4, 6, 20, 2, 13, 6, 14, 1…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"save-the-tidy-relief-data-as-an-r-data-file","dir":"Articles > R-workflows","previous_headings":"Format and save the final tidy dataset","what":"Save the tidy relief data as an R data file","title":"Checking habitat data exported from TransectMeasure","text":"","code":"saveRDS(tidy.relief, file = here::here(paste0(\"r-workflows/data/staging/\", name, \"_relief.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Brooke Gibbons. Author, maintainer. Claude Spencer. Author. Tim Langlois. Author. Todd Bond. Contributor. Jacquomo Monk. Contributor. Jordan Goetze. Contributor. . Funder. . Funder.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gibbons B, Spencer C, Langlois T (2023). CheckEM: R package Shiny App Formatting, Checking, Visualising Analysing Stereo-Video Annotation Data. R package version 1.0, https://globalarchivemanual.github.io/CheckEM/.","code":"@Manual{,   title = {CheckEM: An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data},   author = {Brooke Gibbons and Claude Spencer and Tim Langlois},   year = {2023},   note = {R package version 1.0},   url = {https://globalarchivemanual.github.io/CheckEM/}, }"},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"checkem","dir":"","previous_headings":"","what":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"CheckEM R package shiny app checking, visualizing analysing stereo-video annotation data. idea behind CheckEM provide fish benthic ecologists set tools quickly effectively quality control, format analyse data collected using stereo-video methods. provided: R workflows fish benthic annotation data sets using functions CheckEM. web based app hosted shinyapps.io enable users stereo-video aren’t familiar R quality control format annotations user guide CheckEM shiny app Annotation guides EventMeasure TransectMeasure. hope efforts standardise annotation QC stereo-video data result data meet FAIR principles interoperability reusability.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"to-install-in-r","dir":"","previous_headings":"","what":"To install in R","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"","code":"install.packages('devtools') library('devtools')  devtools::install_github(\"GlobalArchiveManual/CheckEM\") library(CheckEM)"},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"checkem-is-available-as-a-shiny-app","dir":"","previous_headings":"","what":"CheckEM is available as a shiny app","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"CheckEM available web based app hosted shinyapps.io can accessed link can run local version CheckEM (without internet) using R via:","code":"CheckEM::runCheckEM()"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":null,"dir":"Reference","previous_headings":"","what":"A function to standardise names in a dataframe — clean_names","title":"A function to standardise names in a dataframe — clean_names","text":"function standardise names dataframe","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A function to standardise names in a dataframe — clean_names","text":"","code":"clean_names(dat)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A function to standardise names in a dataframe — clean_names","text":"dat","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A function to standardise names in a dataframe — clean_names","text":"dataframe lower case names, _ separators","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to check if a string contains any special characters — has_special_characters","title":"Function to check if a string contains any special characters — has_special_characters","text":"Function check string contains special characters","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to check if a string contains any special characters — has_special_characters","text":"","code":"has_special_characters(string)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to check if a string contains any special characters — has_special_characters","text":"string","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_files_txt.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — read_files_txt","title":"Title — read_files_txt","text":"Title","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_files_txt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — read_files_txt","text":"","code":"read_files_txt(dir)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_files_txt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — read_files_txt","text":"flnm","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"A function to read GlobalArchive format metadata — read_metadata","title":"A function to read GlobalArchive format metadata — read_metadata","text":"function read GlobalArchive format metadata","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A function to read GlobalArchive format metadata — read_metadata","text":"","code":"read_metadata(dir)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A function to read GlobalArchive format metadata — read_metadata","text":"dir directory .txt files saved","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A function to read GlobalArchive format metadata — read_metadata","text":"dataframe column campaignID sample","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":null,"dir":"Reference","previous_headings":"","what":"A function to read .txt exports from SeaGIS TransectMeasure — read_TM","title":"A function to read .txt exports from SeaGIS TransectMeasure — read_TM","text":"function read .txt exports SeaGIS TransectMeasure","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A function to read .txt exports from SeaGIS TransectMeasure — read_TM","text":"","code":"read_TM(dir, sample)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A function to read .txt exports from SeaGIS TransectMeasure — read_TM","text":"dir directory .txt files saved sample Either character value define sample recorded \"opcode\" \"period\"","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A function to read .txt exports from SeaGIS TransectMeasure — read_TM","text":"dataframe column campaignID sample","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":null,"dir":"Reference","previous_headings":"","what":"Run CheckEM shiny app locally — runCheckEM","title":"Run CheckEM shiny app locally — runCheckEM","text":"Run CheckEM shiny app locally","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run CheckEM shiny app locally — runCheckEM","text":"","code":"runCheckEM()"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run CheckEM shiny app locally — runCheckEM","text":"launch local version CheckEM browser","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run CheckEM shiny app locally — runCheckEM","text":"","code":"## Not run: if (FALSE) CheckEM::runCheckEM()"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to standardize column names and types — standardize_tibble","title":"Function to standardize column names and types — standardize_tibble","text":"Function standardize column names types","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to standardize column names and types — standardize_tibble","text":"","code":"standardize_tibble(tibble)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to standardize column names and types — standardize_tibble","text":"tibble","code":""}]
