[{"path":[]},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"introduction","dir":"Articles > R-workflows","previous_headings":"","what":"Introduction","title":"Check fish data from single point based methods","text":"script take fish annotation data single point based methods (e.g. stereo-BRUVs stereo-BOSS), either exported EventMeasure “Generic” format (see format requirements ), check errors annotation. script format annotation data tidy format. also need formatted sample metadata file “*_metadata.csv” (see format requirements )","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"r-set-up","dir":"Articles > R-workflows","previous_headings":"","what":"R set up","title":"Check fish data from single point based methods","text":"First need load necessary libraries. haven’t installed CheckEM need install CheckEM using install_github function. Next set study name. can name like, files saved using script prefixed name. Avoid name long. recommend using short project name includes method e.g. “2020_ningaloo_stereo-BRUVs”.","code":"# install.packages('remotes') library('remotes') options(timeout=9999999) # remotes::install_github(\"GlobalArchiveManual/CheckEM\") library(CheckEM) library(tidyverse) library(googlesheets4) library(sf) library(terra) library(here) name <- \"example-bruv-workflow\""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"metadata","dir":"Articles > R-workflows","previous_headings":"","what":"Metadata","title":"Check fish data from single point based methods","text":"Now load tidy metadata. already completed step checking habitat data, can skip next two chunks code simply read metadata (see ). Save metadata R data file (creates lighter file saving .csv similar, also maintains column formatting). already exported ‘check-habitat’ script load metadata. just loaded saved metadata, can skip chunk code.","code":"dir(here::here(\"r-workflows/data/raw/\")) ##  [1] \"2022-05_PtCloates_stereo-BRUVS_count.csv\"                             ##  [2] \"2022-05_PtCloates_stereo-BRUVS_length.csv\"                            ##  [3] \"2022-05_PtCloates_stereo-BRUVS_metadata.csv\"                          ##  [4] \"2023-03_SwC_stereo-BRUVs_3DPoints.txt\"                                ##  [5] \"2023-03_SwC_stereo-BRUVs_Backwards_Dot Point Measurements.txt\"        ##  [6] \"2023-03_SwC_stereo-BRUVs_Backwards_Relief_Dot Point Measurements.txt\" ##  [7] \"2023-03_SwC_stereo-BRUVs_Forwards_Dot Point Measurements.txt\"         ##  [8] \"2023-03_SwC_stereo-BRUVs_Forwards_Relief_Dot Point Measurements.txt\"  ##  [9] \"2023-03_SwC_stereo-BRUVs_ImagePtPair.txt\"                             ## [10] \"2023-03_SwC_stereo-BRUVs_Info.txt\"                                    ## [11] \"2023-03_SwC_stereo-BRUVs_Lengths.txt\"                                 ## [12] \"2023-03_SwC_stereo-BRUVs_Metadata.csv\"                                ## [13] \"2023-03_SwC_stereo-BRUVs_MovieSeq.txt\"                                ## [14] \"2023-03_SwC_stereo-BRUVs_Period.txt\"                                  ## [15] \"2023-03_SwC_stereo-BRUVs_Points.txt\"                                  ## [16] \"2023-03_SwC_stereo-BRUVs_Source.txt\"                                  ## [17] \"benthic.annotation.schema.forward.facing.20230714.135113.csv\"         ## [18] \"benthic.habitat.annotation.schema.forward.facing_2023-10-30.txt\"      ## [19] \"benthic.relief.annotation.schema.forward.facing_2023-10-17.txt\"       ## [20] \"broad-categories.csv\" metadata <- read_metadata(here::here(\"r-workflows/data/raw/\"), method = \"BRUVs\") %>% # Change here to \"DOVs\"   dplyr::select(campaignid, sample, status, longitude_dd, latitude_dd, date_time, location, site, depth_m, successful_count, successful_length, successful_habitat_forward, successful_habitat_backward) %>%   glimpse() ## reading metadata file: /home/runner/work/CheckEM/CheckEM/r-workflows/data/raw//2022-05_PtCloates_stereo-BRUVS_metadata.csv ## Rows: 62 ## Columns: 16 ## $ campaignid            <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtClo… ## $ sample                <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"11… ## $ opcode                <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"11… ## $ latitude_dd           <chr> \"-22.7221\", \"-22.6957\", \"-22.7379\", \"-22.7337\", … ## $ longitude_dd          <chr> \"113.5447\", \"113.5628\", \"113.5515\", \"113.5555\", … ## $ date_time             <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T14:16:2… ## $ site                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## $ location              <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## $ status                <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\", \"No-… ## $ depth_m               <chr> \"93.9\", \"77.3\", \"78.3\", \"73.9\", \"81.9\", \"74.3\", … ## $ successful_count      <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ successful_length     <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ observer_count        <chr> \"Kaitlin McCloghry\", \"Kaitlin McCloghry\", \"Kaitl… ## $ observer_length       <chr> \"Henry Evans\", \"Henry Evans\", \"Henry Evans\", \"He… ## $ inclusion_probability <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## $ visibility_m          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … ## reading metadata file: /home/runner/work/CheckEM/CheckEM/r-workflows/data/raw//2023-03_SwC_stereo-BRUVs_Metadata.csv ## Rows: 32 ## Columns: 34 ## $ system_number                              <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6… ## $ sample                                     <chr> \"35\", \"5\", \"26\", \"23\", \"29\"… ## $ latitude_dd                                <chr> \"-34.13155\", \"-34.12952667\"… ## $ longitude_dd                               <chr> \"114.923645\", \"114.9292367\"… ## $ date_time                                  <chr> \"14/03/2023 23:36\", \"14/03/… ## $ site                                       <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ location                                   <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ status                                     <chr> \"No-take\", \"No-take\", \"No-t… ## $ depth_m                                    <chr> \"39.6\", \"42.7\", \"36\", \"41\",… ## $ successful_count                           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ successful_length                          <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ observer_count                             <chr> \"Hannah Williams\", \"Hannah … ## $ observer_length                            <chr> \"Gidget Mirrabelle\", \"Gidge… ## $ observer_new_measurement_rules             <chr> \"Gidget Mirrabelle\", NA, \"G… ## $ observer_labridaesp1                       <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ left_cam                                   <chr> \"27\", \"30\", \"31\", \"33\", \"35… ## $ right_cam                                  <chr> \"28\", \"30\", \"32\", \"34\", \"36… ## $ rear_cam                                   <chr> \"19\", \"20\", \"21\", \"22\", \"23… ## $ video_notes                                <chr> NA, NA, \"struggled with sha… ## $ raw_hdd_number                             <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ fishnclips_saved                           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ forwards_habitat_image_saved               <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ backwards_habitat_image_saved              <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ successful_habitat_forward                 <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ successful_habitat_backward                <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\",… ## $ observer_habitat_forward                   <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ observer_habitat_backward                  <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ maxn_complete_date                         <chr> NA, NA, \"11/07/2023\", \"7/07… ## $ maxn_checker                               <chr> \"Gidget Neunuebel\", \"Gidget… ## $ length_complete_date                       <chr> \"31/07/2023\", \"31/07/2023\",… ## $ length_new_measurement_rules_complete_date <chr> \"1/08/2023\", NA, \"2/08/2023… ## $ labridaesp1_complete_date                  <chr> NA, NA, NA, NA, NA, NA, NA,… ## $ comment                                    <chr> NA, \"need to check feeding.… ## $ campaignid                                 <chr> \"2023-03_SwC_stereo-BRUVs\",… ## Rows: 94 ## Columns: 13 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ longitude_dd                <chr> \"113.5447\", \"113.5628\", \"113.5515\", \"113.5… ## $ latitude_dd                 <chr> \"-22.7221\", \"-22.6957\", \"-22.7379\", \"-22.7… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"77.3\", \"78.3\", \"73.9\", \"81.9\", \"7… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… saveRDS(metadata, file = here::here(paste0(\"r-workflows/data/tidy/\",                                 name, \"_metadata.rds\"))) metadata <- readRDS(here::here(paste0(\"r-workflows/data/tidy/\",                                 name, \"_metadata.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"marine-parks","dir":"Articles > R-workflows","previous_headings":"Metadata","what":"Marine Parks","title":"Check fish data from single point based methods","text":"Load marine park shape files, extract fishing status (e.g. ‘Fished’ ‘-take’) use modelling. data set used 2022 Collaborative Australian Protected Areas Database, can download free . may change shape file suitable data set available study area.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"note-you-should-only-use-this-code-if-the-status-column-is-not-filled-out","dir":"Articles > R-workflows","previous_headings":"Metadata > Marine Parks","what":"NOTE: You should only use this code if the Status column is not filled out","title":"Check fish data from single point based methods","text":"","code":"marine_parks <- st_read(here::here(\"r-workflows/data/spatial/shapefiles/Collaborative_Australian_Protected_Areas_Database_(CAPAD)_2022_-_Marine.shp\"))  %>%   dplyr::select(geometry, ZONE_TYPE) %>%   st_transform(4326) %>%   st_make_valid() ## Reading layer `Collaborative_Australian_Protected_Areas_Database_(CAPAD)_2022_-_Marine' from data source `/home/runner/work/CheckEM/CheckEM/r-workflows/data/spatial/shapefiles/Collaborative_Australian_Protected_Areas_Database_(CAPAD)_2022_-_Marine.shp'  ##   using driver `ESRI Shapefile' ## Simple feature collection with 3775 features and 26 fields ## Geometry type: MULTIPOLYGON ## Dimension:     XY ## Bounding box:  xmin: 70.71702 ymin: -58.44947 xmax: 170.3667 ymax: -8.473407 ## Geodetic CRS:  WGS 84 metadata_sf <- st_as_sf(metadata, coords = c(\"longitude_dd\", \"latitude_dd\"), crs = 4326)  # metadata <- metadata_sf %>% #   st_join(marine_parks) %>% #   bind_cols(st_coordinates(.)) %>% #   as.data.frame() %>% #   dplyr::select(-c(geometry)) %>% #   dplyr::rename(longitude_dd = X, latitude_dd = Y) %>% #   dplyr::mutate(status = if_else(str_detect(ZONE_TYPE, \"National|Sanctuary\"), #                                 \"No-take\", \"Fished\")) %>% #   tidyr::replace_na(list(status = \"Fished\")) %>% #   clean_names() %>% #   dplyr::glimpse()"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"find-nearest-marine-region","dir":"Articles > R-workflows","previous_headings":"Metadata","what":"Find nearest Marine Region","title":"Check fish data from single point based methods","text":"Now need find nearest marine region sample metadata. can use life history lists find species observed marine region .","code":"metadata_sf <- st_as_sf(metadata, coords = c(\"longitude_dd\", \"latitude_dd\"), crs = 4326) regions <- st_as_sf(CheckEM::aus_regions, crs = st_crs(4326)) regions <- st_transform(regions, 4326) %>%   dplyr::select(REGION)  metadata <- st_join(metadata_sf, regions, join = st_nearest_feature) %>%   dplyr::rename(marine_region = REGION) %>%   dplyr::mutate(sample = as.character(sample)) %>%   as.data.frame() %>%   dplyr::select(-c(geometry)) %>%   glimpse() ## Rows: 94 ## Columns: 12 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"77.3\", \"78.3\", \"73.9\", \"81.9\", \"7… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ marine_region               <chr> \"North-west\", \"North-west\", \"North-west\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"fish-annotation-data","dir":"Articles > R-workflows","previous_headings":"","what":"Fish annotation data","title":"Check fish data from single point based methods","text":"two types fish annotation data formats can check format using script: EventMeasure database outputs Generic files. EventMeasure database outputs need export database outputs using EventMeasure software .EMObs files. give ’_Points.txt’, ’_Lengths.txt’ ’_3DPoints.txt’ files. Generic data much simpler format allows users haven’t used EventMeasure format QC annotation data. need _Count.csv file _Length.csv file. information format files please see CheckEM user guide recommend using EventMeasure database outputs available date. checks possible EventMeasure data Generic data. Note: used EventMeasure software annotate samples made corrections exported data (e.g. Excel), corrected data now true copy data import data Generic annotation files (e.g. count length).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"load-any-eventmeasure-points-txt-files","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Load any EventMeasure Points.txt files","title":"Check fish data from single point based methods","text":"section code read Points.txt files saved directory set. combine files one data-frame, get campaignid name name file. important consistently name files campaignid (look different separators e.g. ‘-’, ’_‘, ’.’)","code":"points <- read_points(here::here(\"r-workflows/data/raw/\")) %>%   glimpse() ## Rows: 17,425 ## Columns: 23 ## $ opcode      <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\"… ## $ pointindex  <chr> \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"1… ## $ filename    <chr> \"Left_MAH00355.MP4\", \"Left_MAH00355.MP4\", \"Left_MAH00355.M… ## $ frame       <chr> \"11347\", \"11403\", \"11403\", \"11473\", \"11473\", \"11473\", \"127… ## $ time        <chr> \"25.71152\", \"25.72709\", \"25.72709\", \"25.74655\", \"25.74655\"… ## $ period      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\"… ## $ periodtime  <chr> \"0.33422\", \"0.34979\", \"0.34979\", \"0.36926\", \"0.36926\", \"0.… ## $ imagecol    <chr> \"463.20000\", \"474.00000\", \"1495.20000\", \"1562.40000\", \"157… ## $ imagerow    <chr> \"669.60000\", \"655.20000\", \"541.20000\", \"543.60000\", \"571.2… ## $ rectwidth   <chr> \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.… ## $ rectheight  <chr> \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.… ## $ family      <chr> \"Labridae\", \"Labridae\", \"Labridae\", \"Labridae\", \"Labridae\"… ## $ genus       <chr> \"Ophthalmolepis\", \"Ophthalmolepis\", \"Ophthalmolepis\", \"Pse… ## $ species     <chr> \"lineolata\", \"lineolata\", \"lineolata\", \"biserialis\", \"bise… ## $ code        <chr> \"37384040\", \"37384040\", \"37384040\", \"37384149\", \"37384149\"… ## $ number      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… ## $ stage       <chr> \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\"… ## $ activity    <chr> \"Passing\", \"Passing\", \"Passing\", \"Passing\", \"Passing\", \"Pa… ## $ comment     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ attribute9  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ attribute10 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ campaignid  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"2… ## $ sample      <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\"…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"load-any-generic-count-files","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Load any Generic count files","title":"Check fish data from single point based methods","text":"section code read Count.csv files saved directory set. combine files one data frame, get campaignid name name file. important consistently name files campaignid (look different separators e.g. ‘-’, ’_‘, ’.’)","code":"counts <- read_counts(here::here(\"r-workflows/data/raw/\")) %>%   glimpse() ## reading count file: /home/runner/work/CheckEM/CheckEM/r-workflows/data/raw//2022-05_PtCloates_stereo-BRUVS_count.csv ## file is a csv ## Rows: 802 ## Columns: 7 ## $ campaignid <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates_stereo… ## $ opcode     <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"2\",… ## $ family     <chr> \"Balistidae\", \"Carangidae\", \"Carangidae\", \"Lethrinidae\", \"L… ## $ genus      <chr> \"Abalistes\", \"Decapterus\", \"Turrum\", \"Gymnocranius\", \"Lethr… ## $ species    <chr> \"filamentosus\", \"spp\", \"fulvoguttatum\", \"sp1\", \"rubriopercu… ## $ count      <dbl> 3, 4, 18, 2, 1, 9, 3, 2, 20, 1, 1, 4, 1, 1, 2, 2, 1, 2, 1, … ## $ sample     <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"2\",…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"combine-eventmeasure-and-generic-count-together","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Combine EventMeasure and Generic count together","title":"Check fish data from single point based methods","text":"Create tidy MaxN file.","code":"# Only run this if there is data in the counts data frame if(nrow(points) > 1){   maxn_points <- points %>%     dplyr::group_by(campaignid, sample, filename, periodtime, frame, family, genus, species) %>% # If you have MaxN'd by stage (e.g. Adult, Juvenile) add stage here     dplyr::mutate(number = as.numeric(number)) %>%     dplyr::summarise(maxn = sum(number)) %>%     dplyr::ungroup() %>%     dplyr::group_by(campaignid, sample, family, genus, species) %>%     dplyr::slice(which.max(maxn)) %>%     dplyr::ungroup() %>%     dplyr::filter(!is.na(maxn)) %>%     dplyr::select(-frame) %>%     tidyr::replace_na(list(maxn = 0)) %>%     dplyr::mutate(maxn = as.numeric(maxn)) %>%     dplyr::filter(maxn > 0) %>%     dplyr::inner_join(metadata, by = join_by(campaignid, sample)) %>%     dplyr::filter(successful_count %in% c(\"Yes\")) %>%     dplyr::filter(maxn > 0) %>%     dplyr::select(campaignid, sample, family, genus, species, maxn) %>%     dplyr::glimpse() } ## `summarise()` has grouped output by 'campaignid', 'sample', 'filename', ## 'periodtime', 'frame', 'family', 'genus'. You can override using the `.groups` ## argument. ## Rows: 462 ## Columns: 6 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"20… ## $ sample     <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"10\",… ## $ family     <chr> \"Dasyatidae\", \"Gerreidae\", \"Heterodontidae\", \"Labridae\", \"L… ## $ genus      <chr> \"Dasyatis\", \"Parequula\", \"Heterodontus\", \"Austrolabrus\", \"C… ## $ species    <chr> \"brevicaudata\", \"melbournensis\", \"portusjacksoni\", \"maculat… ## $ maxn       <dbl> 1, 1, 1, 1, 71, 9, 8, 1, 5, 2, 9, 1, 1, 2, 2, 1, 5, 12, 3, … # Only run this if there is data in the counts data frame if(nrow(counts) > 1){   maxn_counts <- counts %>%     dplyr::group_by(campaignid, sample, family, genus, species) %>%     dplyr::mutate(number = as.numeric(count)) %>%     dplyr::summarise(maxn = sum(number)) %>%     dplyr::ungroup() %>%     dplyr::group_by(campaignid, sample, family, genus, species) %>%     dplyr::slice(which.max(maxn)) %>%     dplyr::ungroup() %>%     dplyr::filter(!is.na(maxn)) %>%     tidyr::replace_na(list(maxn = 0)) %>%     dplyr::mutate(maxn = as.numeric(maxn)) %>%     dplyr::filter(maxn > 0) %>%     dplyr::inner_join(metadata, by = join_by(campaignid, sample)) %>%     dplyr::filter(successful_count %in% c(\"Yes\")) %>%     dplyr::filter(maxn > 0) %>%     dplyr::select(campaignid, sample, family, genus, species, maxn) %>%     dplyr::glimpse() } ## `summarise()` has grouped output by 'campaignid', 'sample', 'family', 'genus'. ## You can override using the `.groups` argument. ## Rows: 802 ## Columns: 6 ## $ campaignid <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates_stereo… ## $ sample     <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"11\", \"11\", \"11\", \"… ## $ family     <chr> \"Balistidae\", \"Carangidae\", \"Carangidae\", \"Lethrinidae\", \"L… ## $ genus      <chr> \"Abalistes\", \"Decapterus\", \"Turrum\", \"Gymnocranius\", \"Lethr… ## $ species    <chr> \"filamentosus\", \"spp\", \"fulvoguttatum\", \"sp1\", \"rubriopercu… ## $ maxn       <dbl> 3, 4, 18, 2, 1, 9, 3, 2, 2, 1, 6, 3, 1, 3, 1, 2, 1, 1, 1, 1… # If only EventMeasure data then MaxN only includes Points data # If only Generic data then MaxN only includes Count data # If both exist, then MaxN includes both Points and Count data maxn <- bind_rows(get0(\"maxn_points\"), get0(\"maxn_counts\")) # this works even if you only have one type of data"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"load-any-eventmeasure-lengths-txt-andor-3dpoints-txt-files","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Load any EventMeasure Lengths.txt and/or 3DPoints.txt files","title":"Check fish data from single point based methods","text":"section code read Lengths.txt /3DPoints.txt files saved directory set. combine files one data-frame, get campaignid name name file. important consistently name files campaignid (look different separators e.g. ‘-’, ’_‘, ’.’)","code":"em_length3dpoints <- read_em_length(here::here(\"r-workflows/data/raw/\")) %>%   dplyr::select(-c(comment))%>% # there is a comment column in metadata, so you will need to remove this column from EM data   dplyr::inner_join(metadata, by = join_by(sample, campaignid)) %>%   dplyr::filter(successful_length %in% \"Yes\") %>%   # dplyr::rename(length_mm = length) %>%   glimpse() ## Rows: 2,428 ## Columns: 46 ## $ opcode                      <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"12\", \"12\", … ## $ imageptpair                 <chr> \"72\", \"73\", \"75\", \"81\", \"93\", \"0\", \"11\", \"… ## $ filenameleft                <chr> \"Left_MAH00355.MP4\", \"Left_MAH00355.MP4\", … ## $ frameleft                   <chr> \"65608\", \"74525\", \"21436\", \"33446\", \"46833… ## $ filenameright               <chr> \"Right_MAH00344.MP4\", \"Right_MAH00344.MP4\"… ## $ frameright                  <chr> \"64140\", \"73057\", \"20028\", \"32038\", \"45425… ## $ time                        <chr> \"40.79909\", \"43.27851\", \"51.07269\", \"54.41… ## $ period                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ periodtime                  <chr> \"15.42180\", \"17.90122\", \"25.69539\", \"29.03… ## $ x                           <dbl> -430.67367, -278.33750, -997.34125, -187.9… ## $ y                           <dbl> -140.98709, -257.03677, -186.86483, -238.3… ## $ z                           <dbl> -868.5349, -762.9243, -1522.4532, -730.307… ## $ sx                          <chr> \"0.64880\", \"0.48001\", \"1.91708\", \"0.42177\"… ## $ sy                          <chr> \"0.46100\", \"0.47613\", \"0.79836\", \"0.44960\"… ## $ sz                          <chr> \"1.11439\", \"0.88751\", \"3.13793\", \"0.83996\"… ## $ rms                         <dbl> 0.67020, 0.47105, 0.63932, 0.10770, 0.3492… ## $ range                       <dbl> 979.6479, 851.8175, 1829.6098, 790.8665, 9… ## $ direction                   <chr> \"27.65589\", \"26.62953\", \"33.74391\", \"22.82… ## $ family                      <chr> \"Labridae\", \"Urolophidae\", \"Labridae\", \"Tr… ## $ genus                       <chr> \"Austrolabrus\", \"Trygonoptera\", \"Ophthalmo… ## $ species                     <chr> \"maculatus\", \"ovalis\", \"lineolata\", \"dumer… ## $ code                        <chr> \"37384025\", \"37038016\", \"37384040\", \"37027… ## $ number                      <dbl> 1, 1, 1, 1, 1, 40, 1, 1, 1, 1, 1, 1, 1, 1,… ## $ stage                       <chr> \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", \"AD\", … ## $ activity                    <chr> \"Passing\", \"Passing\", \"Passing\", \"Passing\"… ## $ attribute9                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ attribute10                 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_s… ## $ length_mm                   <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ precision                   <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ horzdir                     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ vertdir                     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ midx                        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ midy                        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ midz                        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ sample                      <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"12\", \"12\", … ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"18/03/2023 2:44\", \"18/03/2023 2:44\", \"18/… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"44.3\", \"44.3\", \"44.3\", \"44.3\", \"44.3\", \"4… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_backward <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ marine_region               <chr> \"South-west\", \"South-west\", \"South-west\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"load-any-generic-length-files","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Load any Generic length files","title":"Check fish data from single point based methods","text":"section code read Length.csv files saved directory set. combine files one data frame, get campaignid name name file. important consistently name files campaignid (look different separators e.g. ‘-’, ’’, ‘.’)","code":"gen_length <- read_gen_length(here::here(\"r-workflows/data/raw/\")) %>%   dplyr::full_join(metadata, by = join_by(campaignid, sample)) %>%   dplyr::filter(successful_length %in% \"Yes\") %>%   glimpse() ## reading length file: /home/runner/work/CheckEM/CheckEM/r-workflows/data/raw//2022-05_PtCloates_stereo-BRUVS_length.csv ## file is a csv ## Rows: 2,162 ## Columns: 22 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ opcode                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ family                      <chr> \"Balistidae\", \"Balistidae\", \"Balistidae\", … ## $ genus                       <chr> \"Abalistes\", \"Abalistes\", \"Abalistes\", \"De… ## $ species                     <chr> \"filamentosus\", \"filamentosus\", \"filamento… ## $ length_mm                   <dbl> 336.7789, 324.9078, 281.1703, 310.8369, 33… ## $ number                      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … ## $ range                       <dbl> 3775.308, 3918.720, 2559.820, 3356.762, 35… ## $ rms                         <dbl> 11.10507, 14.14936, 7.13303, 16.32680, 15.… ## $ precision                   <dbl> 21.13063, 9.07687, 5.16125, 13.59407, 18.2… ## $ code                        <chr> \"37465089\", \"37465089\", \"37465089\", NA, NA… ## $ sample                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"9… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ marine_region               <chr> \"North-west\", \"North-west\", \"North-west\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"combine-eventmeasure-and-generic-length-data","dir":"Articles > R-workflows","previous_headings":"Fish annotation data","what":"Combine EventMeasure and Generic length data","title":"Check fish data from single point based methods","text":"","code":"# If only EventMeasure data then length only includes Length and 3D points data # If only Generic data then length only includes generic length data # If both exist, then length includes both Length and 3D points and generic length data length <- bind_rows(get0(\"em_length3dpoints\"), get0(\"gen_length\")) # this works even if you only have one type of data"},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"in-the-count-data","dir":"Articles > R-workflows","previous_headings":"Fish annotation data > Format and add zeros where a species isn’t present","what":"In the count data","title":"Check fish data from single point based methods","text":"Tidy “complete” MaxN data (e.g. add zeros data species wasn’t observed). final data set row species every sample (deployment).","code":"count <- maxn %>%   dplyr::mutate(family = ifelse(family %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"Unknown\", as.character(family))) %>%   dplyr::mutate(genus = ifelse(genus %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"Unknown\", as.character(genus))) %>%   dplyr::mutate(species = ifelse(species %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"spp\", as.character(species))) %>%   dplyr::select(campaignid, sample, family, genus, species, maxn) %>%   tidyr::complete(nesting(campaignid, sample), nesting(family, genus, species)) %>%   tidyr::replace_na(list(maxn = 0)) %>%   group_by(campaignid, sample, family, genus, species) %>%   dplyr::summarise(count = sum(maxn)) %>%   ungroup() %>%   mutate(scientific = paste(family, genus, species, sep = \" \"))%>%   dplyr::select(campaignid, sample, scientific, count)%>%   spread(scientific, count, fill = 0) ## `summarise()` has grouped output by 'campaignid', 'sample', 'family', 'genus'. ## You can override using the `.groups` argument. count_families <- maxn %>%   dplyr::mutate(scientific = paste(family, genus, species, sep = \" \")) %>%   filter(!(family %in% \"Unknown\")) %>%   dplyr::select(c(family, genus, species, scientific)) %>%   distinct()  complete_count <- count %>%   pivot_longer(names_to = \"scientific\", values_to = \"count\",                cols = 3:ncol(.)) %>%   inner_join(count_families, by = c(\"scientific\")) %>%   full_join(metadata)%>%   glimpse() ## Joining with `by = join_by(campaignid, sample)` ## Rows: 17,766 ## Columns: 17 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ scientific                  <chr> \"Acanthuridae Naso brachycentron\", \"Acanth… ## $ count                       <dbl> 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, … ## $ family                      <chr> \"Acanthuridae\", \"Acanthuridae\", \"Acanthuri… ## $ genus                       <chr> \"Naso\", \"Naso\", \"Naso\", \"Albula\", \"Aplodac… ## $ species                     <chr> \"brachycentron\", \"fageni\", \"hexacanthus\", … ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"9… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ marine_region               <chr> \"North-west\", \"North-west\", \"North-west\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"in-the-length-data","dir":"Articles > R-workflows","previous_headings":"Fish annotation data > Format and add zeros where a species isn’t present","what":"In the length data","title":"Check fish data from single point based methods","text":"Tidy complete length data (e.g. complete zeroes data). final data set row species every sample (deployment).","code":"complete_length <- length %>%   dplyr::mutate(family = ifelse(family %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"Unknown\", as.character(family))) %>%   dplyr::mutate(genus = ifelse(genus %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"Unknown\", as.character(genus))) %>%   dplyr::mutate(species = ifelse(species %in% c(\"NA\", \"NANA\", NA, \"unknown\", \"\", NULL, \" \", NA_character_), \"spp\", as.character(species))) %>%   dplyr::filter(!family %in% \"Unknown\")%>%   # First make one row for every length measurement   dplyr::mutate(number = as.numeric(number)) %>%   tidyr::uncount(number) %>%   dplyr::mutate(number = 1) %>%   # Add in missing samples   dplyr::right_join(metadata) %>%   dplyr::filter(successful_length %in% \"Yes\") %>%   # Complete the data (add in zeros for every species)   dplyr::select(campaignid, sample, family, genus, species, length_mm, number, any_of(c(\"range\", \"rms\", \"precision\"))) %>% # this will keep EM only columns   tidyr::complete(nesting(campaignid, sample), nesting(family, genus, species)) %>%   replace_na(list(number = 0)) %>%   ungroup() %>%   dplyr::filter(!is.na(number)) %>%   dplyr::mutate(length_mm = as.numeric(length_mm)) %>%   left_join(., metadata) %>%   glimpse() ## Joining with `by = join_by(campaignid, sample, status, date_time, location, ## site, depth_m, successful_count, successful_length, successful_habitat_forward, ## successful_habitat_backward, marine_region)` ## Joining with `by = join_by(campaignid, sample)` ## Rows: 23,119 ## Columns: 20 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ family                      <chr> \"Acanthuridae\", \"Acanthuridae\", \"Acanthuri… ## $ genus                       <chr> \"Naso\", \"Naso\", \"Naso\", \"Albula\", \"Aplodac… ## $ species                     <chr> \"brachycentron\", \"fageni\", \"hexacanthus\", … ## $ length_mm                   <dbl> NA, NA, NA, NA, NA, NA, NA, 336.7789, 324.… ## $ number                      <dbl> 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, … ## $ range                       <dbl> NA, NA, NA, NA, NA, NA, NA, 3775.308, 3918… ## $ rms                         <dbl> NA, NA, NA, NA, NA, NA, NA, 11.10507, 14.1… ## $ precision                   <dbl> NA, NA, NA, NA, NA, NA, NA, 21.13063, 9.07… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"9… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ marine_region               <chr> \"North-west\", \"North-west\", \"North-west\", …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"quality-control-checks","dir":"Articles > R-workflows","previous_headings":"","what":"Quality Control Checks","title":"Check fish data from single point based methods","text":"Now -tidy data can begin run checks.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-unique-samples-in-the-metadata","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of unique samples in the metadata","title":"Check fish data from single point based methods","text":"total number unique samples sample metadata (also number rows metadata data frame)","code":"number_of_samples <- metadata %>%   dplyr::distinct(campaignid, sample)  message(paste(nrow(number_of_samples), \"unique samples in the metadata\")) ## 94 unique samples in the metadata"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"check-for-duplicate-sample-names","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Check for duplicate sample names","title":"Check fish data from single point based methods","text":"duplicate samples within campaign displayed ","code":"duplicate_samples <- metadata %>%   dplyr::group_by(campaignid, sample) %>%   dplyr::summarise(n = n()) %>%   dplyr::ungroup() %>%   dplyr::filter(n > 1) ## `summarise()` has grouped output by 'campaignid'. You can override using the ## `.groups` argument. message(paste(nrow(duplicate_samples), \"samples duplicated in the metadata\")) ## 0 samples duplicated in the metadata"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-samples-without-points-or-count-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of sample(s) without points or count data","title":"Check fish data from single point based methods","text":"due samples observing fish (error) sample marked successful_count = . also due sample name spelt incorrectly count/points sample metadata file.","code":"metadata_samples <- metadata %>%   dplyr::select(campaignid, sample, dplyr::any_of(c(\"opcode\", \"period\")),                 successful_count, successful_length) %>%   distinct()  samples <- maxn %>%   distinct(campaignid, sample)  missing_count <- anti_join(metadata_samples, samples, by = join_by(campaignid, sample))  message(paste(nrow(missing_count), \"samples in the metadata missing count data\")) ## 0 samples in the metadata missing count data"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"samples-in-the-count-data-missing-metadata","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Samples in the count data missing metadata","title":"Check fish data from single point based methods","text":"next chunk checks samples count data match sample metadata.","code":"missing_metadata <- anti_join(samples, metadata_samples, by = join_by(campaignid, sample)) message(paste(nrow(missing_metadata), \"samples in count data missing metadata\")) ## 0 samples in count data missing metadata"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-samples-without-length-or-3d-point-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of sample(s) without length or 3D point data","title":"Check fish data from single point based methods","text":"due samples observing fish (error) sample marked successful_length = . also due sample name spelt incorrectly EMObs Length file sample metadata file.","code":"metadata_samples <- metadata %>%   dplyr::select(campaignid, sample, dplyr::any_of(c(\"opcode\", \"period\")),                 successful_count, successful_length) %>%   distinct()  samples <- length %>%   distinct(campaignid, sample)  missing_length <- anti_join(metadata_samples, samples, by = join_by(campaignid, sample))  message(paste(nrow(missing_length), \"samples in metadata missing length data\")) ## 0 samples in metadata missing length data"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"samples-in-the-length-data-missing-metadata","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Samples in the length data missing metadata","title":"Check fish data from single point based methods","text":"next chunk checks samples length data match sample metadata.","code":"missing_metadata <- anti_join(samples, metadata_samples, by = join_by(campaignid, sample))  message(paste(nrow(missing_metadata), \"samples in length data missing metadata\")) ## 0 samples in length data missing metadata"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"periods-without-an-end-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Periods without an end (EM only)","title":"Check fish data from single point based methods","text":"check important used periods define sampling duration. looks periods EMObs end time. important want check duration period.","code":"periods <- read_periods(here::here(\"r-workflows/data/raw/\")) %>%   glimpse() ## Rows: 32 ## Columns: 12 ## $ opcode        <chr> \"10\", \"12\", \"14\", \"15\", \"16\", \"17\", \"19\", \"2\", \"21\", \"22… ## $ periodindex   <chr> \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"… ## $ period        <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"… ## $ filenamestart <chr> \"Left_MAH00355.MP4\", \"L031_MAH01383.MP4\", \"L031_14_MAH01… ## $ framestart    <chr> \"10145\", \"3746\", \"24760\", \"76519\", \"67465\", \"71918\", \"46… ## $ time_start    <dbl> 25.37730, 23.59802, 29.42440, 21.27653, 18.75902, 19.997… ## $ filenameend   <chr> \"Left_MAH00357.MP4\", \"L031_MAH01385.MP4\", \"L031_14_MAH01… ## $ frameend      <chr> \"63748\", \"57409\", \"78422\", \"49060\", \"40006\", \"44459\", \"1… ## $ time_end      <dbl> 85.37724, 83.59796, 89.42433, 81.27647, 78.75896, 79.997… ## $ has_end       <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"… ## $ campaignid    <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", … ## $ sample        <chr> \"10\", \"12\", \"14\", \"15\", \"16\", \"17\", \"19\", \"2\", \"21\", \"22… periods_without_end <- periods %>%   dplyr::filter(has_end == 0)  message(paste(nrow(periods_without_end), \"periods without an end\")) ## 0 periods without an end glimpse(periods_without_end) ## Rows: 0 ## Columns: 12 ## $ opcode        <chr>  ## $ periodindex   <chr>  ## $ period        <chr>  ## $ filenamestart <chr>  ## $ framestart    <chr>  ## $ time_start    <dbl>  ## $ filenameend   <chr>  ## $ frameend      <chr>  ## $ time_end      <dbl>  ## $ has_end       <chr>  ## $ campaignid    <chr>  ## $ sample        <chr>"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"samples-without-periods-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Samples without periods (EM only)","title":"Check fish data from single point based methods","text":"check important used periods define sampling duration. can use find samples missing periods.","code":"metadata_samples <- metadata %>%   dplyr::select(campaignid, sample, dplyr::any_of(c(\"opcode\", \"period\")), successful_count, successful_length) %>%   dplyr::distinct() %>%   dplyr::mutate(sample = as.factor(sample))  periods_samples <- periods %>%   dplyr::select(campaignid, sample, dplyr::any_of(c(\"opcode\", \"period\"))) %>%   distinct()  missing_periods <- anti_join(metadata_samples, periods_samples) %>%   dplyr::select(!sample) ## Joining with `by = join_by(campaignid, sample)` message(paste(nrow(missing_periods), \"samples missing period\")) ## 62 samples missing period glimpse(missing_periods) ## Rows: 62 ## Columns: 3 ## $ campaignid        <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates… ## $ successful_count  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Ye… ## $ successful_length <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Ye…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"points-outside-periods-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Points outside Periods (EM only)","title":"Check fish data from single point based methods","text":"check identifies points annotated outside period.","code":"points_outside_periods <- points %>%   dplyr::filter(period %in% c(\"NA\", NA, NULL, \"\")) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species, number, frame)  message(paste(nrow(points_outside_periods), \"points outside a period\")) ## 0 points outside a period glimpse(points_outside_periods) ## Rows: 0 ## Columns: 8 ## $ campaignid <chr>  ## $ opcode     <chr>  ## $ period     <chr>  ## $ family     <chr>  ## $ genus      <chr>  ## $ species    <chr>  ## $ number     <dbl>  ## $ frame      <chr>"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"length-measurements-or-3d-points-outside-periods-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Length measurement(s) or 3D point(s) outside periods (EM only)","title":"Check fish data from single point based methods","text":"check identifies length measurements 3D points annotated outside period.","code":"lengths_outside_periods <- em_length3dpoints %>%   dplyr::filter(period %in% c(\"NA\", NA, NULL, \"\")) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species, number)  message(paste(nrow(lengths_outside_periods), \"lengths/3D points outside period\")) ## 1 lengths/3D points outside period glimpse(lengths_outside_periods) ## Rows: 1 ## Columns: 7 ## $ campaignid <chr> \"2023-03_SwC_stereo-BRUVs\" ## $ opcode     <chr> \"32\" ## $ period     <chr> NA ## $ family     <chr> NA ## $ genus      <chr> NA ## $ species    <chr> NA ## $ number     <dbl> NA"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"periods-that-are-not-the-correct-duration-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Period(s) that are not the correct duration (EM only)","title":"Check fish data from single point based methods","text":"check define correct sampling duration (e.g. 60 minutes stereo-BRUVs) identify periods length.","code":"period_length <- 60 # in minutes  periods_wrong <- periods %>%         dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), time_start, time_end, has_end) %>%         dplyr::distinct() %>%         dplyr::mutate(period_time = round(time_end - time_start)) %>%         dplyr::filter(!period_time %in% period_length)  message(paste(nrow(periods_wrong), \"periods not\", period_length, \"minutes long\")) ## 1 periods not 60 minutes long glimpse(periods_wrong) ## Rows: 1 ## Columns: 7 ## $ campaignid  <chr> \"2023-03_SwC_stereo-BRUVs\" ## $ opcode      <chr> \"31\" ## $ period      <chr> \"1\" ## $ time_start  <dbl> 12.19858 ## $ time_end    <dbl> 65.25241 ## $ has_end     <chr> \"1\" ## $ period_time <dbl> 53"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"total-number-of-individuals-observed","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Total number of individuals observed","title":"Check fish data from single point based methods","text":"total number individuals observed count data: total number individuals observed length data:","code":"total_count <- sum(complete_count$count) message(paste(total_count, \"fish counted in the count data\")) ## 6411 fish counted in the count data total_length <- sum(complete_length$number) message(paste(total_length, \"fish counted in the length data\")) ## 6421 fish counted in the length data"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"points-without-a-number-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Points without a number (EM only)","title":"Check fish data from single point based methods","text":"check EventMeasure data. Sometimes analysts add points interest fish/sharks remove number summed total abundance metrics. check make sure fish species accidentally number deleted.","code":"points_without_number <- points %>%   filter(number %in% c(\"NA\", NA, 0, NULL, \"\", \" \"))  message(paste(nrow(points_without_number), \"points in the _Points.txt file that do not have a number\")) ## 11 points in the _Points.txt file that do not have a number glimpse(points_without_number) ## Rows: 11 ## Columns: 23 ## $ opcode      <chr> \"10\", \"10\", \"10\", \"21\", \"21\", \"21\", \"26\", \"26\", \"26\", \"34\"… ## $ pointindex  <chr> \"166\", \"485\", \"486\", \"238\", \"254\", \"256\", \"66\", \"67\", \"68\"… ## $ filename    <chr> \"Left_MAH00355.MP4\", \"Left_MAH00356.MP4\", \"Left_MAH00356.M… ## $ frame       <chr> \"17138\", \"31042\", \"31042\", \"32458\", \"35214\", \"45239\", \"311… ## $ time        <chr> \"27.32174\", \"53.74369\", \"53.74369\", \"54.10433\", \"54.87065\"… ## $ period      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\" ## $ periodtime  <chr> \"1.94444\", \"28.36639\", \"28.36639\", \"24.85844\", \"25.62477\",… ## $ imagecol    <chr> \"1861.20000\", \"289.20000\", \"408.00000\", \"973.20000\", \"728.… ## $ imagerow    <chr> \"243.60000\", \"292.80000\", \"414.00000\", \"67.20000\", \"50.400… ## $ rectwidth   <chr> \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.… ## $ rectheight  <chr> \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.00000\", \"0.… ## $ family      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ genus       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ species     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ code        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ number      <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ stage       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ activity    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ comment     <chr> \"squid\", \"squid\", \"squid\", \"Squid\", \"Squid\", \"Squid\", \"squ… ## $ attribute9  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ attribute10 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA ## $ campaignid  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_stereo-BRUVs\", \"2… ## $ sample      <chr> \"10\", \"10\", \"10\", \"21\", \"21\", \"21\", \"26\", \"26\", \"26\", \"34\"…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"length-measurements-or-3d-points-without-a-number-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Length measurements or 3D points without a number (EM only)","title":"Check fish data from single point based methods","text":"check EventMeasure data. Sometimes analysts add 3D points record sync point. can remain data double check fish accidentally missing number.","code":"lengths_without_number <- em_length3dpoints %>%   filter(number %in% c(\"NA\", NA, 0, NULL, \"\", \" \"))  message(paste(nrow(lengths_without_number), \"lengths or 3D points in the EMObs that do not have a number\")) ## 1 lengths or 3D points in the EMObs that do not have a number glimpse(lengths_without_number) ## Rows: 1 ## Columns: 46 ## $ opcode                      <chr> \"32\" ## $ imageptpair                 <chr> \"0\" ## $ filenameleft                <chr> \"L039_MAH00349.MP4\" ## $ frameleft                   <chr> \"58009\" ## $ filenameright               <chr> \"R040_MAH00356.MP4\" ## $ frameright                  <chr> \"57032\" ## $ time                        <chr> \"16.12972\" ## $ period                      <chr> NA ## $ periodtime                  <chr> \"-1.00000\" ## $ x                           <dbl> 1.53837 ## $ y                           <dbl> -121.0145 ## $ z                           <dbl> -714.4317 ## $ sx                          <chr> \"0.38485\" ## $ sy                          <chr> \"0.38601\" ## $ sz                          <chr> \"0.84527\" ## $ rms                         <dbl> 0.01491 ## $ range                       <dbl> 724.6099 ## $ direction                   <chr> \"10.04716\" ## $ family                      <chr> NA ## $ genus                       <chr> NA ## $ species                     <chr> NA ## $ code                        <chr> NA ## $ number                      <dbl> NA ## $ stage                       <chr> NA ## $ activity                    <chr> NA ## $ attribute9                  <chr> NA ## $ attribute10                 <chr> NA ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\" ## $ length_mm                   <dbl> NA ## $ precision                   <dbl> NA ## $ horzdir                     <chr> NA ## $ vertdir                     <chr> NA ## $ midx                        <dbl> NA ## $ midy                        <dbl> NA ## $ midz                        <dbl> NA ## $ sample                      <chr> \"32\" ## $ status                      <chr> \"No-take\" ## $ date_time                   <chr> \"15/03/2023 0:23\" ## $ location                    <chr> NA ## $ site                        <chr> NA ## $ depth_m                     <chr> \"44.4\" ## $ successful_count            <chr> \"Yes\" ## $ successful_length           <chr> \"Yes\" ## $ successful_habitat_forward  <chr> \"Yes\" ## $ successful_habitat_backward <chr> \"Yes\" ## $ marine_region               <chr> \"South-west\""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-names-that-have-been-updated","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Species names that have been updated","title":"Check fish data from single point based methods","text":"Taxanomic advances means species names updated time, analysts sometimes spell species names incorrectly. check uses data-frame saved inside CheckEM package identifies species names updated spelt incorrectly. can choose like find synonyms using Australia specific list (CheckEM::aus_synonyms) Global list (ADD).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"synonyms-in-the-count-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species names that have been updated","what":"Synonyms in the count data","title":"Check fish data from single point based methods","text":"","code":"synonyms_in_count <- dplyr::left_join(complete_count, CheckEM::aus_synonyms) %>%       dplyr::filter(!is.na(genus_correct)) %>%       dplyr::mutate('old name' = paste(family, genus, species, sep = \" \")) %>%       dplyr::mutate('new name' = paste(family_correct, genus_correct, species_correct, sep = \" \")) %>%       dplyr::select('old name', 'new name') %>%       dplyr::distinct() ## Joining with `by = join_by(family, genus, species)` message(paste(nrow(synonyms_in_count), \"synonyms used in the count data\")) ## 13 synonyms used in the count data glimpse(synonyms_in_count) ## Rows: 13 ## Columns: 2 ## $ `old name` <chr> \"Carangidae Carangoides spp\", \"Dasyatidae Dasyatis brevicau… ## $ `new name` <chr> \"Carangidae Unknown spp\", \"Dasyatidae Bathytoshia brevicaud…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"synonyms-in-the-length-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species names that have been updated","what":"Synonyms in the length data","title":"Check fish data from single point based methods","text":"","code":"synonyms_in_length <- dplyr::left_join(complete_length, CheckEM::aus_synonyms) %>%       dplyr::filter(!is.na(genus_correct)) %>%       dplyr::mutate('old name' = paste(family, genus, species, sep = \" \")) %>%       dplyr::mutate('new name' = paste(family_correct, genus_correct, species_correct, sep = \" \")) %>%       dplyr::select('old name', 'new name') %>%       dplyr::distinct() ## Joining with `by = join_by(family, genus, species)` message(paste(nrow(synonyms_in_length), \"synonyms used in the length data\")) ## 13 synonyms used in the length data glimpse(synonyms_in_length) ## Rows: 13 ## Columns: 2 ## $ `old name` <chr> \"Carangidae Carangoides spp\", \"Dasyatidae Dasyatis brevicau… ## $ `new name` <chr> \"Carangidae Unknown spp\", \"Dasyatidae Bathytoshia brevicaud…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"change-synonyms-names-in-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species names that have been updated","what":"Change synonyms names in data","title":"Check fish data from single point based methods","text":"Now identified species names updated spelt wrong need decide want change names data continue using old names. want update names use next two chunks. like retain old names skip next two chunks. NOTE: change original annotation files, data save end script.","code":"complete_count <- dplyr::left_join(complete_count, CheckEM::aus_synonyms) %>%   dplyr::mutate(genus = ifelse(!genus_correct%in%c(NA), genus_correct, genus)) %>%   dplyr::mutate(species = ifelse(!is.na(species_correct), species_correct, species)) %>%   dplyr::mutate(family = ifelse(!is.na(family_correct), family_correct, family)) %>%   dplyr::select(-c(family_correct, genus_correct, species_correct)) %>%   dplyr::mutate(scientific = paste(family, genus, species)) ## Joining with `by = join_by(family, genus, species)` complete_length <- dplyr::left_join(complete_length, CheckEM::aus_synonyms) %>%   dplyr::mutate(genus = ifelse(!genus_correct%in%c(NA), genus_correct, genus)) %>%   dplyr::mutate(species = ifelse(!is.na(species_correct), species_correct, species)) %>%   dplyr::mutate(family = ifelse(!is.na(family_correct), family_correct, family)) %>%   dplyr::select(-c(family_correct, genus_correct, species_correct)) %>%   dplyr::mutate(scientific = paste(family, genus, species)) ## Joining with `by = join_by(family, genus, species)`"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-not-observed-in-the-region-before","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Species not observed in the region before","title":"Check fish data from single point based methods","text":"check use list species known geographical ranges check data identify species outside range. two life history data sets choose check species outside known geographical range. Australia Global lists. use Australia life history list use CheckEM::australia_life_history use Global life history list use CheckEM::global_life_history. run check count length data, sometimes species count length. species identified checks present chosen life-history list. Sometimes range data limited, possible species flagged check actually present area. need critically think species flagged check.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-out-of-range-in-the-count-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species not observed in the region before","what":"Species out of range in the count data","title":"Check fish data from single point based methods","text":"Check species range count data.","code":"count_species_not_observed_region <- complete_count %>%   dplyr::distinct(campaignid, sample, family, genus, species, marine_region, count) %>%   dplyr::anti_join(., expand_life_history(CheckEM::australia_life_history), by = c(\"family\", \"genus\", \"species\", \"marine_region\")) %>%   dplyr::filter(count > 0) %>%   dplyr::left_join(metadata) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species, marine_region) %>%   dplyr::distinct() %>%   dplyr::rename('marine region not observed in' = marine_region) %>%   dplyr::semi_join(., CheckEM::australia_life_history, by = c(\"family\", \"genus\", \"species\")) ## Joining with `by = join_by(campaignid, sample, marine_region)` message(paste(nrow(count_species_not_observed_region), \"species not observed in the region before\")) ## 0 species not observed in the region before glimpse(count_species_not_observed_region) ## Rows: 0 ## Columns: 5 ## $ campaignid                      <chr>  ## $ family                          <chr>  ## $ genus                           <chr>  ## $ species                         <chr>  ## $ `marine region not observed in` <chr>"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-out-of-range-in-the-length-data","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species not observed in the region before","what":"Species out of range in the length data","title":"Check fish data from single point based methods","text":"Check species range length data.","code":"length_species_not_observed_region <- complete_length %>%   dplyr::distinct(campaignid, sample, family, genus, species, marine_region, number) %>%   dplyr::anti_join(., expand_life_history(CheckEM::australia_life_history), by = c(\"family\", \"genus\", \"species\", \"marine_region\")) %>%   dplyr::filter(number > 0) %>%   dplyr::left_join(metadata) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species, marine_region) %>%   dplyr::distinct() %>%   dplyr::rename('marine region not observed in' = marine_region) %>%   dplyr::semi_join(., CheckEM::australia_life_history, by = c(\"family\", \"genus\", \"species\")) ## Joining with `by = join_by(campaignid, sample, marine_region)` message(paste(nrow(length_species_not_observed_region), \"species not observed in the region before\")) ## 0 species not observed in the region before glimpse(length_species_not_observed_region) ## Rows: 0 ## Columns: 5 ## $ campaignid                      <chr>  ## $ family                          <chr>  ## $ genus                           <chr>  ## $ species                         <chr>  ## $ `marine region not observed in` <chr>"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-not-listed-in-the-life-history-list","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Species not listed in the life history list","title":"Check fish data from single point based methods","text":"next check identifies species listed chosen life history list. misspelt family/genus/species name, species name invalid, name updated species name included life history list missing. need critically think species flagged determine error . use Australia life history list use CheckEM::australia_life_history use Global life history list use CheckEM::global_life_history. NOTE. believe species flagged check included life history list please email brooke.gibbons@uwa.edu.au full species name list added (Global Australia).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-in-the-count-data-that-are-not-listed","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species not listed in the life history list","what":"Species in the count data that are not listed","title":"Check fish data from single point based methods","text":"chose update names changed (synonyms) check won’t include previously used names.","code":"count_species_not_in_list <- complete_count %>%   dplyr::anti_join(., CheckEM::australia_life_history, by = c(\"family\", \"genus\", \"species\")) %>%   dplyr::filter(count > 0) %>%   dplyr::left_join(metadata) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species) %>%   dplyr::distinct() ## Joining with `by = join_by(campaignid, sample, status, date_time, location, ## site, depth_m, successful_count, successful_length, successful_habitat_forward, ## successful_habitat_backward, marine_region)` message(paste(nrow(count_species_not_in_list), \"species not in chosen life history list\")) ## 11 species not in chosen life history list glimpse(count_species_not_in_list) ## Rows: 11 ## Columns: 4 ## $ campaignid <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates_stereo… ## $ family     <chr> \"Lethrinidae\", \"Lutjanidae\", \"Sus\", \"Rhinidae\", \"Scaridae\",… ## $ genus      <chr> \"Gymnocranius\", \"Pristipomoides\", \"Sus\", \"Rhynchobatus\", \"S… ## $ species    <chr> \"sp1\", \"sp1\", \"sus\", \"laevis\", \"sp3\", \"sp10\", \"sp1\", \"SUS\",…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"species-in-the-length-data-that-are-not-listed","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks > Species not listed in the life history list","what":"Species in the length data that are not listed","title":"Check fish data from single point based methods","text":"","code":"length_species_not_in_list <- complete_length %>%   dplyr::anti_join(., CheckEM::australia_life_history, by = c(\"family\", \"genus\", \"species\")) %>%   dplyr::filter(number > 0) %>%   dplyr::left_join(metadata) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species) %>%   dplyr::distinct() ## Joining with `by = join_by(campaignid, sample, status, date_time, location, ## site, depth_m, successful_count, successful_length, successful_habitat_forward, ## successful_habitat_backward, marine_region)` message(paste(nrow(length_species_not_in_list), \"species not in chosen life history list\")) ## 12 species not in chosen life history list glimpse(length_species_not_in_list) ## Rows: 12 ## Columns: 4 ## $ campaignid <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates_stereo… ## $ family     <chr> \"Lethrinidae\", \"Lutjanidae\", \"Sus\", \"Rhinidae\", \"Scaridae\",… ## $ genus      <chr> \"Gymnocranius\", \"Pristipomoides\", \"Sus\", \"Rhynchobatus\", \"S… ## $ species    <chr> \"sp1\", \"sp1\", \"sus\", \"laevis\", \"sp3\", \"sp10\", \"sp1\", \"SUS\",…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"length-measurements-smaller-or-bigger-than-the-fishbase-minimum-and-maximums","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Length measurements smaller or bigger than the fishbase minimum and maximums","title":"Check fish data from single point based methods","text":"Length data extremely valuable important fish precisely accurately measured. can use check identify measurements bigger maximum size listed fishbase. However, think important check species nearing maximum size (e.g 85% maximum). also think important check species small. Fishbase list minimum size, recommend checking length measurements 15% maximum size. function can edit cut offs (15% 85%) see fit. believe size limits particular species incorrect fill feedback form CheckEM web based app (see tab Edit maximum lengths) supply new maximum size limit.","code":"incorrect_lengths <- left_join(complete_length, create_min_max(CheckEM::australia_life_history, minimum = 0.15, maximum = 0.85)) %>%   dplyr::filter(length_mm < min_length_mm | length_mm > max_length_mm) %>%   mutate(reason = ifelse(length_mm < min_length_mm, \"too small\", \"too big\")) %>%   dplyr::select(campaignid, sample, family, genus, species, length_mm, min_length_mm, max_length_mm, length_max_mm, reason, any_of(c(\"em_comment\", \"frame_left\")), length_max_mm) %>%   mutate(difference = ifelse(reason %in% c(\"too small\"), (min_length_mm - length_mm), (length_mm - max_length_mm))) %>%   dplyr::mutate(percent_of_fb_max = (length_mm/length_max_mm)*100) %>%   dplyr::left_join(metadata) %>%   dplyr::select(campaignid, dplyr::any_of(c(\"opcode\", \"period\")), family, genus, species, length_mm, min_length_mm, max_length_mm, length_max_mm, reason, any_of(c(\"em_comment\", \"frame_left\")), difference, percent_of_fb_max) ## Joining with `by = join_by(family, genus, species)` ## Joining with `by = join_by(campaignid, sample)` too_small <- incorrect_lengths %>%   dplyr::filter(reason %in% \"too small\")  too_big <- incorrect_lengths %>%   dplyr::filter(reason %in% \"too big\")  message(paste(nrow(too_small), \"lengths are too small\")) ## 172 lengths are too small glimpse(too_small) ## Rows: 172 ## Columns: 11 ## $ campaignid        <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates… ## $ family            <chr> \"Monacanthidae\", \"Echeneidae\", \"Echeneidae\", \"Echene… ## $ genus             <chr> \"Unknown\", \"Echeneis\", \"Echeneis\", \"Echeneis\", \"Eche… ## $ species           <chr> \"spp\", \"naucrates\", \"naucrates\", \"naucrates\", \"naucr… ## $ length_mm         <dbl> 32.95594, 116.45890, 141.68877, 133.69953, 70.35057,… ## $ min_length_mm     <dbl> 44.12251, 165.00000, 165.00000, 165.00000, 165.00000… ## $ max_length_mm     <dbl> 250.0276, 935.0000, 935.0000, 935.0000, 935.0000, 38… ## $ length_max_mm     <dbl> 294.1501, 1100.0000, 1100.0000, 1100.0000, 1100.0000… ## $ reason            <chr> \"too small\", \"too small\", \"too small\", \"too small\", … ## $ difference        <dbl> 11.166572, 48.541100, 23.311230, 31.300470, 94.64943… ## $ percent_of_fb_max <dbl> 11.203784, 10.587173, 12.880797, 12.154503, 6.395506… message(paste(nrow(too_big), \"lengths are too big\")) ## 488 lengths are too big glimpse(too_big) ## Rows: 488 ## Columns: 11 ## $ campaignid        <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05_PtCloates… ## $ family            <chr> \"Balistidae\", \"Balistidae\", \"Balistidae\", \"Carangida… ## $ genus             <chr> \"Abalistes\", \"Abalistes\", \"Abalistes\", \"Decapterus\",… ## $ species           <chr> \"filamentosus\", \"filamentosus\", \"filamentosus\", \"spp… ## $ length_mm         <dbl> 336.7789, 324.9078, 281.1703, 366.6616, 712.5285, 36… ## $ min_length_mm     <dbl> 49.50000, 49.50000, 49.50000, 63.29100, 103.21126, 5… ## $ max_length_mm     <dbl> 280.5000, 280.5000, 280.5000, 358.6490, 584.8638, 32… ## $ length_max_mm     <dbl> 330.0000, 330.0000, 330.0000, 421.9400, 688.0751, 38… ## $ reason            <chr> \"too big\", \"too big\", \"too big\", \"too big\", \"too big… ## $ difference        <dbl> 56.278880, 44.407750, 0.670350, 8.012586, 127.664692… ## $ percent_of_fb_max <dbl> 102.05421, 98.45689, 85.20314, 86.89899, 103.55389, …"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-3d-points-and-length-measurements-over-the-rms-limit-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of 3D points and length measurements over the RMS limit (EM only)","title":"Check fish data from single point based methods","text":"check can set RMS limit, identify measurements larger RMS.","code":"rms_limit <- 20 # in mm  over_rms <- complete_length %>%   dplyr::filter(as.numeric(rms) > rms_limit)  message(paste(nrow(over_rms), \"lengths over RMS limit\")) ## 0 lengths over RMS limit glimpse(over_rms) ## Rows: 0 ## Columns: 21 ## $ campaignid                  <chr>  ## $ sample                      <chr>  ## $ family                      <chr>  ## $ genus                       <chr>  ## $ species                     <chr>  ## $ length_mm                   <dbl>  ## $ number                      <dbl>  ## $ range                       <dbl>  ## $ rms                         <dbl>  ## $ precision                   <dbl>  ## $ status                      <chr>  ## $ date_time                   <chr>  ## $ location                    <chr>  ## $ site                        <chr>  ## $ depth_m                     <chr>  ## $ successful_count            <chr>  ## $ successful_length           <chr>  ## $ successful_habitat_forward  <chr>  ## $ successful_habitat_backward <chr>  ## $ marine_region               <chr>  ## $ scientific                  <chr>"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-length-measurements-over-the-precision-limit-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of length measurements over the precision limit (EM only)","title":"Check fish data from single point based methods","text":"check can set precision limit, identify measurements larger precision.","code":"precision_limit <- 10 # in %  over_precision <- complete_length %>%   dplyr::filter(as.numeric(precision) > precision_limit)  message(paste(nrow(over_precision), \"lengths over precision limit\")) ## 430 lengths over precision limit glimpse(over_precision) ## Rows: 430 ## Columns: 21 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1… ## $ family                      <chr> \"Balistidae\", \"Carangidae\", \"Carangidae\", … ## $ genus                       <chr> \"Abalistes\", \"Decapterus\", \"Decapterus\", \"… ## $ species                     <chr> \"filamentosus\", \"spp\", \"spp\", \"spp\", \"fulv… ## $ length_mm                   <dbl> 336.7789, 310.8369, 336.7015, 303.8198, 26… ## $ number                      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, … ## $ range                       <dbl> 3775.308, 3356.762, 3562.630, 3514.671, 31… ## $ rms                         <dbl> 11.10507, 16.32680, 15.62525, 11.23263, 11… ## $ precision                   <dbl> 21.13063, 13.59407, 18.23430, 16.22170, 15… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"93.9\", \"9… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ marine_region               <chr> \"North-west\", \"North-west\", \"North-west\", … ## $ scientific                  <chr> \"Balistidae Abalistes filamentosus\", \"Cara…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"number-of-3d-points-and-length-measurements-over-the-range-limit-em-only","dir":"Articles > R-workflows","previous_headings":"Quality Control Checks","what":"Number of 3D points and length measurements over the range limit (EM only)","title":"Check fish data from single point based methods","text":"check can set range limit, identify measurements larger range.","code":"range_limit <- 10 # in metres  over_range <- complete_length %>%   dplyr::filter(as.numeric(range) > (range_limit* 1000))  message(paste(nrow(over_range), \"lengths over range limit\")) ## 0 lengths over range limit glimpse(over_range) ## Rows: 0 ## Columns: 21 ## $ campaignid                  <chr>  ## $ sample                      <chr>  ## $ family                      <chr>  ## $ genus                       <chr>  ## $ species                     <chr>  ## $ length_mm                   <dbl>  ## $ number                      <dbl>  ## $ range                       <dbl>  ## $ rms                         <dbl>  ## $ precision                   <dbl>  ## $ status                      <chr>  ## $ date_time                   <chr>  ## $ location                    <chr>  ## $ site                        <chr>  ## $ depth_m                     <chr>  ## $ successful_count            <chr>  ## $ successful_length           <chr>  ## $ successful_habitat_forward  <chr>  ## $ successful_habitat_backward <chr>  ## $ marine_region               <chr>  ## $ scientific                  <chr>"},{"path":[]},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-fish-point.html","id":"save-the-checked-data","dir":"Articles > R-workflows","previous_headings":"","what":"Save the checked data","title":"Check fish data from single point based methods","text":"Save MaxN R data file. Save lengths R data file.","code":"saveRDS(complete_count,           file = here::here(paste0(\"r-workflows/data/staging/\",                        name, \"_complete-count.rds\"))) saveRDS(complete_length,           file = here::here(paste0(\"r-workflows/data/staging/\",                        name, \"_complete-length.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/check-habitat.html","id":"r-set-up","dir":"Articles > R-workflows","previous_headings":"","what":"R set up","title":"Checking habitat data exported from TransectMeasure","text":"Load necessary libraries.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/format-visualise-fish.html","id":"r-set-up","dir":"Articles > R-workflows","previous_headings":"","what":"R set up","title":"Format & visualise fish data","text":"Load necessary libraries.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/format-visualise-habitat.html","id":"r-set-up","dir":"Articles > R-workflows","previous_headings":"","what":"R set up","title":"Format & visualise habitat data","text":"Load necessary libraries.","code":""},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/spatial-layers.html","id":"r-set-up","dir":"Articles > R-workflows","previous_headings":"","what":"R set up","title":"Generate spatial layers for modelling","text":"Load necessary libraries. Set study name.","code":"library(sf) library(terra) library(stars) library(starsExtra) library(tidyverse) library(here) name <- 'example-bruv-workflow'"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/spatial-layers.html","id":"load-bathymetry-data-and-create-bathymetry-derivatives","dir":"Articles > R-workflows","previous_headings":"","what":"Load bathymetry data and create bathymetry derivatives","title":"Generate spatial layers for modelling","text":"bathymetry data used example relatively low spatial resolution dataset downloaded https://ecat.ga.gov.au/geonetwork/srv/eng/catalog.search#/metadata/148758. Feel free replace suitable bathymetry .tif format. Calculate terrain derivatives. Calculate detrended bathymetry. Join bathymetry terrain detrended derivatives. Save spatial-layers.","code":"bathy <- rast(here::here(\"r-workflows/data/spatial/rasters/swc_ga250m.tif\")) %>%   clamp(upper = 0, lower = -250, values = F) %>%   trim() preds <- terrain(bathy, neighbors = 8,                  v = c(\"slope\", \"aspect\", \"TPI\", \"TRI\", \"roughness\"),           # Remove here as necessary                  unit = \"degrees\") zstar <- st_as_stars(bathy)                                                     detre <- detrend(zstar, parallel = 8)                                            detre <- as(object = detre, Class = \"SpatRaster\")                                names(detre) <- c(\"detrended\", \"lineartrend\") preds <- rast(list(bathy, preds, detre[[1]]))                                    names(preds)[1] <- \"mbdepth\" preds_w <- wrap(preds) saveRDS(preds_w,            file = here::here(paste0(\"r-workflows/data/spatial/rasters/\",                          name, \"_bathymetry_derivatives.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/spatial-layers.html","id":"load-metadata-and-extract-site-specific-derivatives","dir":"Articles > R-workflows","previous_headings":"","what":"Load metadata and extract site-specific derivatives","title":"Generate spatial layers for modelling","text":"Read metadata. Convert metadata spatial file. Check see metadata bathymetry align correctly. Add latitude longitude coordinates back metadata. Extract bathymetry derivatives sampling location.","code":"metadata <- readRDS(here::here(paste0(\"r-workflows/data/tidy/\",                              name, \"_metadata.rds\"))) %>%   dplyr::mutate(longitude_dd = as.numeric(longitude_dd),                 latitude_dd = as.numeric(latitude_dd)) %>%   glimpse() ## Rows: 94 ## Columns: 13 ## $ campaignid                  <chr> \"2022-05_PtCloates_stereo-BRUVS\", \"2022-05… ## $ sample                      <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ longitude_dd                <dbl> 113.5447, 113.5628, 113.5515, 113.5555, 11… ## $ latitude_dd                 <dbl> -22.7221, -22.6957, -22.7379, -22.7337, -2… ## $ date_time                   <chr> \"2022-05-22T10:03:24+08:00\", \"2022-05-22T1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"93.9\", \"77.3\", \"78.3\", \"73.9\", \"81.9\", \"7… ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ successful_habitat_backward <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… metadata.vect <- vect(metadata, geom = c(\"longitude_dd\", \"latitude_dd\"), crs = \"epsg:4326\") plot(preds[[1]]) plot(metadata.vect, add = T) tidy.metadata_t   <- as.data.frame(metadata.vect, geom = \"XY\") %>%   left_join(metadata) ## Joining with `by = join_by(campaignid, sample, status, date_time, location, ## site, depth_m, successful_count, successful_length, successful_habitat_forward, ## successful_habitat_backward)` metadata.bathy.derivatives   <- cbind(tidy.metadata_t,                                       terra::extract(preds, metadata.vect)) %>%   dplyr::filter(!is.na(depth),                                                                   !is.na(roughness)) %>%   glimpse() ## Warning: There was 1 warning in `dplyr::filter()`. ## ℹ In argument: `!is.na(depth)`. ## Caused by warning in `is.na()`: ## ! is.na() applied to non-(list or vector) of type 'closure' ## Rows: 32 ## Columns: 23 ## $ campaignid                  <chr> \"2023-03_SwC_stereo-BRUVs\", \"2023-03_SwC_s… ## $ sample                      <chr> \"35\", \"5\", \"26\", \"23\", \"29\", \"4\", \"32\", \"3… ## $ status                      <chr> \"No-take\", \"No-take\", \"No-take\", \"No-take\"… ## $ date_time                   <chr> \"14/03/2023 23:36\", \"14/03/2023 23:49\", \"1… ## $ location                    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ site                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ depth_m                     <chr> \"39.6\", \"42.7\", \"36\", \"41\", \"42.6\", \"45\", … ## $ successful_count            <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_length           <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_forward  <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ successful_habitat_backward <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", … ## $ x                           <dbl> 114.9236, 114.9292, 114.9284, 114.9190, 11… ## $ y                           <dbl> -34.13155, -34.12953, -34.12729, -34.12832… ## $ longitude_dd                <dbl> 114.9236, 114.9292, 114.9284, 114.9190, 11… ## $ latitude_dd                 <dbl> -34.13155, -34.12953, -34.12729, -34.12832… ## $ ID                          <dbl> 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73… ## $ mbdepth                     <dbl> -34.97151, -36.35807, -40.68553, -38.25594… ## $ slope                       <dbl> 0.146843375, 0.812689749, 0.694289634, 0.4… ## $ aspect                      <dbl> 209.89577, 62.41434, 40.87387, 294.10675, … ## $ TPI                         <dbl> 0.42153454, 2.39535522, -0.67607403, 0.476… ## $ TRI                         <dbl> 0.75557327, 3.29823494, 2.39221191, 1.8367… ## $ roughness                   <dbl> 2.21119308, 8.36493301, 8.36493301, 5.3012… ## $ detrended                   <dbl> -5.6631737, -7.0394716, -11.2637815, -8.69…"},{"path":"https://globalarchivemanual.github.io/CheckEM/articles/r-workflows/spatial-layers.html","id":"save-the-joined-metadata-and-bathymetry-derivatives","dir":"Articles > R-workflows","previous_headings":"","what":"Save the joined metadata and bathymetry derivatives","title":"Generate spatial layers for modelling","text":"","code":"saveRDS(metadata.bathy.derivatives, here::here(paste0(\"r-workflows/data/tidy/\", name, \"_metadata-bathymetry-derivatives.rds\")))"},{"path":"https://globalarchivemanual.github.io/CheckEM/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Brooke Gibbons. Author, maintainer. Claude Spencer. Author. Tim Langlois. Author. Todd Bond. Contributor. Jacquomo Monk. Contributor. Jordan Goetze. Contributor. . Funder. . Funder.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gibbons B, Spencer C, Langlois T (2026). CheckEM: R package Shiny App Formatting, Checking, Visualising Analysing Stereo-Video Annotation Data. R package version 0.1.1, https://globalarchivemanual.github.io/CheckEM/.","code":"@Manual{,   title = {CheckEM: An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data},   author = {Brooke Gibbons and Claude Spencer and Tim Langlois},   year = {2026},   note = {R package version 0.1.1},   url = {https://globalarchivemanual.github.io/CheckEM/}, }"},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"stereo-video-workflows-for-fish-and-benthic-ecologists","dir":"","previous_headings":"","what":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"Stereo imagery widely used research institutions management bodies around world cost-effective non-destructive method research monitor fish habitats (Whitmarsh, Fairweather Huveneers, 2017). Stereo-video can provide accurate precise size range measurements can used study spatial temporal patterns fish assemblages (McLean et al., 2016), habitat composition complexity (Collins et al., 2017), behaviour (Goetze et al., 2017), responses anthropogenic pressures (Bosch et al., 2022) recovery growth benthic fauna (Langlois et al. 2020). important users stereo-video collect, annotate, quality control store data consistent manner, ensure data produced highest quality possible enable large scale collaborations. collate existing best practices propose new tools equip ecologists ensure aspects stereo-video workflow performed consistent way.","code":""},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"id_1-data-collection","dir":"","previous_headings":"","what":"1. Data Collection","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"Standardised protocols reduce variation methodologies among researchers, encourage use Findable, Accessible, Interoperable Reusable (FAIR, Wilkinson et al., 2016) protocols, increases collaborations allows researchers answer broadscale ecological questions. Two standard operating procedures field data collection published: globally endorsed best-practice field manual baited remote underwater stereo-video (stereo-BRUVs) published 2020 (Langlois et al., 2020). field manual available online . best-practice field manual diver operated stereo-video (stereo-DOVs) published 2019. field manual can found online .","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"id_2-video-annotation","dir":"","previous_headings":"","what":"2. Video Annotation","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"two field manuals mentioned outline standard protocols video annotation. developed creating step--step annotation guides fish habitat using two common software developed SeaGIS, EventMeasure TransectMeasure: annotation guide EventMeasure outlines obtain count data length measurements stereo-BRUV imagery. annotation guide TransectMeasure outlines rapid approach characterise benthic composition complexity horizontally facing imagery (including stereo-BRUVs panoramic drop cameras), adapting existing standardised schema benthic composition (CATAMI classification scheme) benthic complexity per Wilson et al. (2006).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"id_3-quality-control","dir":"","previous_headings":"","what":"3. Quality Control","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"Robust automated quality control procedures essential consistently identify errors stereo-video data provide immediate feedback datasets contributed environmental reporting (Campbell et al., 2013). developed interactive web-based application, called CheckEM, allow users compare annotations life-history information, create interactive plots tables graphical interface, provide summarised data error reports download, addition ability compile multiple discrete annotation data sets single synthesis ready databasing analysis. free online version app can accessed via link can run local version CheckEM application (without internet) using R (see instructions ). user guide CheckEM shiny app available also developed R-package, containing functions workflows, allow R-savvy ecologists perform quality control checks, format model data. Instructions installing R-package can found . R workflows available : Check habitat data exported TransectMeasure Check fish data exported EventMeasure Generate spatial layers modelling Format & visualise habitat data Format & visualise fish data Generate spatial predictions habitat using FSSgam Generate spatial predictions fish using FSSgam","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"id_4-data-storage","dir":"","previous_headings":"","what":"4. Data Storage","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"GlobalArchive designed centralised repository ecological survey data associated information. overarching design principles GlobalArchive included ease use, secure user access, flexible data import, collection sampling image analysis information. GlobalArchive provides secure archive metadata associated annotation data files, focus stereo techniques. Following data format required GlobalArchive ensures researchers formating theire data consistent way allows multiple researchers easily combine data together. encourage users stereo-video upload store stereo-video data GlobalArchive enable future colloborations answer broad-scale ecological questions.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"our-aim","dir":"","previous_headings":"","what":"Our aim","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"curated exisiting standard operating procedures developed new tools improve consistency aspects stereo-video workflow. encourage use tools open feedback. hope efforts standardise stereo-video workflow streamline data collection, annotation quality control result data meet FAIR principles increase colloboration stereo-video users.","code":""},{"path":[]},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"to-install-in-r","dir":"","previous_headings":"","what":"To install in R","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"","code":"install.packages('remotes') library('remotes') options(timeout=9999999)  remotes::install_github(\"GlobalArchiveManual/CheckEM\") library(CheckEM)"},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"shiny-app","dir":"","previous_headings":"","what":"Shiny-app","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"CheckEM available web based app hosted shinyapps.io can accessed link can run local version CheckEM (without internet) using R via:","code":"CheckEM::runCheckEM()"},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"feedback","dir":"","previous_headings":"","what":"Feedback","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"Please submit feedback R package, web based application, workflows field manuals using form.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/index.html","id":"funding","dir":"","previous_headings":"","what":"Funding","title":"An R package and Shiny App for Formatting, Checking, Visualising and Analysing Stereo-Video Annotation Data","text":"Australian Data Partnership: Fish Shark Data project received investment (https://doi.org/10.47486/DP761) Australian Research Data Commons (ARDC) University Western Australia. ARDC funded National Collaborative Research Infrastructure Strategy (NCRIS).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Add in zeros for deployments not present in the count data — add_zeros_count","title":"Add in zeros for deployments not present in the count data — add_zeros_count","text":"Add zeros deployments present count data","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add in zeros for deployments not present in the count data — add_zeros_count","text":"","code":"add_zeros_count(count_data, metadata)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add in zeros for deployments not present in the count data — add_zeros_count","text":"count_data data frame species counts. metadata data frame containing deployment-level metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_count.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add in zeros for deployments not present in the count data — add_zeros_count","text":"dataframe row every species count data, every sample metadata","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Add in zeros for deployments not present in the length data — add_zeros_length","title":"Add in zeros for deployments not present in the length data — add_zeros_length","text":"Add zeros deployments present length data","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add in zeros for deployments not present in the length data — add_zeros_length","text":"","code":"add_zeros_length(length_data, metadata)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_length.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add in zeros for deployments not present in the length data — add_zeros_length","text":"length_data data frame species lengths. metadata data frame containing deployment-level metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/add_zeros_length.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add in zeros for deployments not present in the length data — add_zeros_length","text":"dataframe row every species length data, every sample metadata","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Australian marine regions — aus_regions","title":"Australian marine regions — aus_regions","text":"reference table Australian marine regions used CheckEM lookups, grouping, reporting.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Australian marine regions — aus_regions","text":"","code":"aus_regions"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Australian marine regions — aus_regions","text":"data frame one row per region one columns describing region name/identifier related metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_regions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Australian marine regions — aus_regions","text":"Compiled CheckEM team Australian marine region frameworks.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_regions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Australian marine regions — aus_regions","text":"dataset used internally CheckEM functions /bundled Shiny app standardise region names region identifiers.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_synonyms.html","id":null,"dir":"Reference","previous_headings":"","what":"Australian species synonym table — aus_synonyms","title":"Australian species synonym table — aus_synonyms","text":"lookup table taxonomic synonyms used CheckEM standardise species names.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_synonyms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Australian species synonym table — aus_synonyms","text":"","code":"aus_synonyms"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_synonyms.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Australian species synonym table — aus_synonyms","text":"data frame one row per synonym relationship columns containing least synonym accepted (preferred) name.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_synonyms.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Australian species synonym table — aus_synonyms","text":"Compiled CheckEM team taxonomic reference sources.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/aus_synonyms.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Australian species synonym table — aus_synonyms","text":"dataset helps harmonise species naming across datasets annotations.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/australia_life_history.html","id":null,"dir":"Reference","previous_headings":"","what":"Australia life history — australia_life_history","title":"Australia life history — australia_life_history","text":"dataset containing life-history, ecological, conservation, fisheries management information Australian fish species.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/australia_life_history.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Australia life history — australia_life_history","text":"","code":"australia_life_history"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/australia_life_history.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Australia life history — australia_life_history","text":"data frame one row per species following variables: australian_source Source Australian-specific information. caab_code CAAB (Codes Australian Aquatic Biota) identifier. class Taxonomic class. order Taxonomic order. family Taxonomic family. subfamily Taxonomic subfamily (available). genus Genus name. species Species epithet. scientific_name Full scientific name (genus + species). australian_common_name Common name used Australia. global_region Broad global biogeographic region. marine_region Marine bioregion. imcra_region IMCRA (Integrated Marine Coastal Regionalisation Australia) region. global_source Source global distribution information. fb_code FishBase species code. fb_length_at_maturity_cm Length maturity (cm) FishBase. fb_length_at_maturity_type Type length measurement used maturity (e.g. TL, FL). fb_length_at_maturity_source Source FishBase maturity information. fb_length_weight_measure Length–weight measurement type used FishBase. fb_a FishBase length–weight parameter \\(\\). fb_b FishBase length–weight parameter \\(b\\). fb_a_ll Lower-limit estimate FishBase \\(\\). fb_b_ll Lower-limit estimate FishBase \\(b\\). fb_ll_equation_type Equation type used lower-limit estimates. fb_length_weight_source Source FishBase length–weight relationship. fb_vulnerability FishBase vulnerability index. fb_countries Countries species recorded FishBase. fb_status FishBase conservation population status. length_max_cm Maximum recorded length (cm). length_max_type Type maximum length measurement (e.g. TL, FL, SL). length_max_source Source maximum length information. fb_trophic_level Mean trophic level FishBase. fb_trophic_level_se Standard error FishBase trophic level estimate. fb_trophic_level_source Source FishBase trophic level information. foa_min_depth Minimum recorded depth (m) Fish Australia. foa_max_depth Maximum recorded depth (m) Fish Australia. rls_trophic_group Trophic group classification Reef Life Survey. rls_water_column Water-column position Reef Life Survey. rls_substrate_type Primary substrate association Reef Life Survey. rls_thermal_niche Thermal niche category Reef Life Survey. local_source Source locally derived information. epbc_threat_status Threat listing EPBC Act (applicable). iucn_ranking IUCN Red List category. fishing_mortality Qualitative quantitative indicator fishing mortality. fishing_type Primary fishing method sector. min_legal_nt Minimum legal size Northern Territory. max_legal_nt Maximum legal size Northern Territory. min_legal_wa Minimum legal size Western Australia. max_legal_wa Maximum legal size Western Australia. min_legal_qld Minimum legal size Queensland. max_legal_qld Maximum legal size Queensland. min_legal_nsw Minimum legal size New South Wales. max_legal_nsw Maximum legal size New South Wales. min_legal_vic Minimum legal size Victoria. max_legal_vic Maximum legal size Victoria. min_legal_sa Minimum legal size South Australia. max_legal_sa Maximum legal size South Australia. min_legal_tas Minimum legal size Tasmania. max_legal_tas Maximum legal size Tasmania.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/australia_life_history.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Australia life history — australia_life_history","text":"Compiled multiple sources including FishBase/SeaLifeBase, Fish Australia, Reef Life Survey, Australian fisheries conservation datasets.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/catami.html","id":null,"dir":"Reference","previous_headings":"","what":"CATAMI classification reference table — catami","title":"CATAMI classification reference table — catami","text":"reference table containing CATAMI (Collaborative Automated Tools Analysis Marine Imagery) classes /mappings used CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/catami.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CATAMI classification reference table — catami","text":"","code":"catami"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/catami.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"CATAMI classification reference table — catami","text":"data frame describing CATAMI class names/codes hierarchical relationships descriptors included CheckEM distribution.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/catami.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"CATAMI classification reference table — catami","text":"CATAMI classification framework compiled use CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/catami.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"CATAMI classification reference table — catami","text":"Used support habitat / benthic classification validation standardisation.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardise Column Names in a Data Frame — clean_names","title":"Standardise Column Names in a Data Frame — clean_names","text":"function takes data frame standardises column names converting lower case, replacing special characters underscores, ensuring names syntactically valid R names.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardise Column Names in a Data Frame — clean_names","text":"","code":"clean_names(dat)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardise Column Names in a Data Frame — clean_names","text":"dat data frame whose column names need standardized.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardise Column Names in a Data Frame — clean_names","text":"data frame standardised column names. column names converted lower case, special characters replaced underscores, redundant underscores end names removed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/clean_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardise Column Names in a Data Frame — clean_names","text":"","code":"# Create a data frame with various column names dat <- data.frame(\"NAmE1\" = 1:3, \"name-2\" = 4:6, \"nAMe.-72\" = 7:9)  # Clean the column names cleaned_dat <- clean_names(dat)  # Check the result print(cleaned_dat) #>   name1 name_2 name_72 #> 1     1      4       7 #> 2     2      5       8 #> 3     3      6       9"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_cti.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Community Temperature Index as per Day et al. 2018 — create_cti","title":"Create Community Temperature Index as per Day et al. 2018 — create_cti","text":"function creates new dataframe containing Community Temperature Index (CTI) fish species abundance data. function designed work data extracted GlobalArchive using 'ga_api_count' function, processed using provided scripts. input dataframe must contain columns 'campaignid', 'sample', 'count', 'family', 'genus' 'species'. CTI calculated","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_cti.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Community Temperature Index as per Day et al. 2018 — create_cti","text":"","code":"create_cti(data, life_history = CheckEM::australia_life_history)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_cti.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Community Temperature Index as per Day et al. 2018 — create_cti","text":"data dataframe columns 'campaignid', 'sample', 'count', 'family', 'genus' 'species' life_history dataframe containing thermal niche data fish species. example dataframe see CheckEM::australia_life_history.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_cti.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Community Temperature Index as per Day et al. 2018 — create_cti","text":"data frame containing campaignid, sample cti (value Community Temperature Index). Note dataframe may less rows number samples, may samples fish valid thermal niche data.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_cti.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Community Temperature Index as per Day et al. 2018 — create_cti","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch metadata for a specific synthesis count <- readRDS(paste0(\"data/geographe/raw/\", name, \"_complete_count.RDS\")) %>%   dplyr::select(campaignid, sample, family, genus, species, count) %>%   dplyr::mutate(scientific_name = paste(family, genus, species, sep = \" \")) %>%   glimpse()    cti <- create_cti(data = count) %>%   dplyr::rename(number = cti) %>%   # Rename the column to number to match with other dataframes for FSSgam modelling   dplyr::mutate(response = \"cti\") %>%   glimpse()    } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_min_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","title":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","text":"function processes data frame containing fish life history information compute minimum maximum size limits species based maximum length check annotations . uses maximum length data genus family levels fill missing maximum lengths species level. resulting data frame includes computed minimum maximum size limits millimeters.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_min_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","text":"","code":"create_min_max(life_history, minimum, maximum)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_min_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","text":"life_history data frame containing fish life history information. data frame include columns family, genus, species, length_max_cm (maximum length centimeters). Missing values length_max_cm filled using average lengths genus family levels available. minimum numeric value representing multiplier calculate minimum size limit. final minimum size limit millimeters computed minimum * length_max_mm. maximum numeric value representing multiplier calculate maximum size limit. final maximum size limit millimeters computed maximum * length_max_mm.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_min_max.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","text":"data frame following columns: family: Fish family. genus: Fish genus. species: Fish species. min_length_mm: Calculated minimum size limit millimeters. max_length_mm: Calculated maximum size limit millimeters. length_max_mm: Maximum length fish millimeters. Rows missing minimum length values excluded result.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/create_min_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Minimum and Maximum Size Limits for Fish Species — create_min_max","text":"","code":"# Assume australia_life_history is a data frame with appropriate columns life_history_with_min_max <- create_min_max(   CheckEM::australia_life_history,   minimum = 15,   maximum = 85 )"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/expand_life_history.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand Life-History Data Frame for Species and Regions — expand_life_history","title":"Expand Life-History Data Frame for Species and Regions — expand_life_history","text":"function takes life-history data frame multiple marine regions species listed single cell, separated commas. expands data frame species-region combination gets row, marine regions translated full names.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/expand_life_history.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand Life-History Data Frame for Species and Regions — expand_life_history","text":"","code":"expand_life_history(dat)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/expand_life_history.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand Life-History Data Frame for Species and Regions — expand_life_history","text":"dat data frame containing life history information column marine regions. marine_region column contain comma-separated region codes (e.g., \"NW, N, CS\").","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/expand_life_history.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expand Life-History Data Frame for Species and Regions — expand_life_history","text":"data frame species-region combination represented separate row. marine_region codes expanded full names (e.g., \"NW\" \"North-west\").","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/expand_life_history.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expand Life-History Data Frame for Species and Regions — expand_life_history","text":"","code":"# Create a sample data frame with species and comma-separated marine regions dat <- data.frame(   species = c(\"Species A\", \"Species B\"),   marine_region = c(\"NW, N, CS\", \"TE, SE\") )  # Expand the data frame to have one row per species-region combination expanded_dat <- expand_life_history(dat)  # Check the result print(expanded_dat) #> # A tibble: 5 × 2 #>   species   marine_region  #>   <chr>     <chr>          #> 1 Species A North-west     #> 2 Species A North          #> 3 Species A Coral Sea      #> 4 Species B Temperate East #> 5 Species B South-east"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_lw.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","title":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","text":"function retrieves Bayesian length-weight equation parameters given species FishBase. fetches data FishBase website parses Bayesian length-weight parameters including mean (m), standard deviation (sd), metric used.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_lw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","text":"","code":"find_lw(sp, mirror = \"us\")"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_lw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","text":"sp character string representing species name. species name provided appears FishBase, spaces replaced hyphens. mirror character string specifying FishBase mirror site use. Defaults \"us\" (FishBase USA). mirrors can specified needed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_lw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","text":"data frame containing Bayesian length-weight parameters species. data frame includes following columns: species: species name. lwa_m: parameter length-weight equation (). lwa_sd: standard deviation parameter length-weight equation (). lwb_m: parameter length-weight equation (b). lwb_sd: standard deviation parameter length-weight equation (b). metric: metric used length measurement (e.g., \"based LWR estimates species & (Sub)family-body\"). internet connection species page retrieved, function returns NULL.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_lw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Bayesian Length-Weight Equation from FishBase — find_lw","text":"","code":"# Retrieve Bayesian length-weight parameters for a species lw_params <- find_lw(\"Lutjanus campechanus\") #> Service Unavailable (HTTP 503). print(lw_params) #> NULL"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_tl.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","title":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","text":"function retrieves trophic level standard error given species FishBase. fetches data FishBase website, extracts trophic level information, formats data frame.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_tl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","text":"","code":"find_tl(sp, mirror = \"us\")"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_tl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","text":"sp character string representing species name. species name provided appears FishBase, spaces replaced hyphens. mirror character string specifying FishBase mirror site use. Defaults \"us\" (FishBase USA). mirrors can specified needed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_tl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","text":"data frame containing trophic level information species. data frame includes following columns: species: species name. trophic_level: trophic level species. se: standard error trophic level. metric: source used (provided) e.g. \"based food items\". internet connection, species page retrieved parsed, function returns NULL.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/find_tl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Trophic Level and Standard Error from FishBase — find_tl","text":"","code":"# Retrieve trophic level and standard error for a species tl_info <- find_tl(\"Lutjanus campechanus\") #> Service Unavailable (HTTP 503). print(tl_info) #> NULL"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_all_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve all Data from a synthesis using the GlobalArchive API — ga_api_all_data","title":"Retrieve all Data from a synthesis using the GlobalArchive API — ga_api_all_data","text":"function retrieves metadata, count, length data CheckEM synthesis, processes data, saves results RDS files specified directory given name. also returns processed data environment allows users add zeros species present directory exist, created, user informed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_all_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve all Data from a synthesis using the GlobalArchive API — ga_api_all_data","text":"","code":"ga_api_all_data(   token,   synthesis_id,   dir,   include_zeros = FALSE,   file_prefix = NULL )"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_all_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve all Data from a synthesis using the GlobalArchive API — ga_api_all_data","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID data retrieved. dir character string specifying directory RDS files saved. include_zeros Either TRUE FALSE, like data include zeros species observed, warning: can create large datasets use lot RAM file_prefix Optional character string. supplied, used prefix output filenames (e.g. \"prefix_metadata.RDS\"). Default NULL.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_all_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve all Data from a synthesis using the GlobalArchive API — ga_api_all_data","text":"list containing metadata, count, length data frames.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_benthic_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","title":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","text":"function retrieves list benthic species Global Archive API. makes API call specified endpoint using basic authentication, reads response Feather format, returns data data frame. resulting data frame cleaned renaming removing certain columns.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_benthic_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","text":"","code":"ga_api_benthic_list(token)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_benthic_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","text":"token character string representing GlobalArchive token API authentication.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_benthic_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","text":"data frame containing list benthic species. data frame includes columns species details, columns removed clarity.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_benthic_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Benthic Species List from the Global Archive API — ga_api_benthic_list","text":"","code":"if (FALSE) { # \\dontrun{ # Retrieve the benthic species list using API credentials species_list <- ga_api_benthic_list(\"your_username\", \"your_password\") print(species_list) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Count Data from the GlobalArchive API — ga_api_count","title":"Retrieve Count Data from the GlobalArchive API — ga_api_count","text":"function retrieves count data GlobalArchive synthesis using API call. allows include exclude life history information retrieved data processes data accordingly.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Count Data from the GlobalArchive API — ga_api_count","text":"","code":"ga_api_count(token, synthesis_id, include_life_history = TRUE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Count Data from the GlobalArchive API — ga_api_count","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID count data retrieved. include_life_history logical value indicating whether life history information included retrieved data. Defaults TRUE. FALSE, basic species information included.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_count.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Count Data from the GlobalArchive API — ga_api_count","text":"data frame containing count data retrieved GlobalArchive API. data frame includes count data various subjects, optional life history details depending include_life_history parameter.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Count Data from the GlobalArchive API — ga_api_count","text":"","code":"if (FALSE) { # \\dontrun{ # Retrieve count data including life history information count_data <- ga_api_count(username = \"your_username\", password = \"your_password\",                             synthesis_id = \"your_synthesis_id\", include_life_history = TRUE)  # Retrieve count data without life history information count_data <- ga_api_count(username = \"your_username\", password = \"your_password\",                             synthesis_id = \"your_synthesis_id\", include_life_history = FALSE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_habitat.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","title":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","text":"function retrieves habitat data GlobalArchive synthesis using API call. processes data include relevant species information merging benthic species list.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_habitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","text":"","code":"ga_api_habitat(token, synthesis_id)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_habitat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID habitat data retrieved.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_habitat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","text":"data frame containing habitat data retrieved GlobalArchive API. data frame includes species information merged benthic species list.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_habitat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Habitat Data from the GlobalArchive API — ga_api_habitat","text":"","code":"if (FALSE) { # \\dontrun{ # Retrieve habitat metadata from a synthesis habitat <- ga_api_habitat(username = \"your_username\", password = \"your_password\",                                     synthesis_id = \"your_synthesis_id\") print(habitat) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Length Data from the GlobalArchive API — ga_api_length","title":"Retrieve Length Data from the GlobalArchive API — ga_api_length","text":"function retrieves length data associated specific synthesis GlobalArchive making API call. data can optionally include life history information species. data returned processed format species information joined based synthesis data.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Length Data from the GlobalArchive API — ga_api_length","text":"","code":"ga_api_length(token, synthesis_id, include_life_history = TRUE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_length.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Length Data from the GlobalArchive API — ga_api_length","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID length data retrieved. include_life_history logical value indicating whether include life history data (default TRUE). FALSE, basic species information returned.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_length.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Length Data from the GlobalArchive API — ga_api_length","text":"data frame containing length data synthesis, optional life history information species data joined GlobalArchive. data frame includes following columns: australian_common_name: Common name species. family: family species. genus: genus species. species: species name. caab: CAAB (Codes Australian Aquatic Biota) code. length: recorded length. sample_url: URL sample GlobalArchive. other_columns: columns present Feather file removed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_length.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Length Data from the GlobalArchive API — ga_api_length","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch length data including life history length <- ga_api_length(\"your_username\", \"your_password\", synthesis_id = 1234)  # Fetch length data without life history length <- ga_api_length(\"your_username\",                          \"your_password\",                           synthesis_id = 1234,                           include_life_history = FALSE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","title":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","text":"function retrieves metadata associated specific synthesis GlobalArchive making API call. metadata includes geographic coordinates, processed separate latitude longitude columns.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","text":"","code":"ga_api_metadata(token, synthesis_id)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID metadata retrieved.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","text":"data frame containing metadata synthesis, including processed coordinates relevant information. API request fails, function returns NULL prints status code. data frame includes following columns: TODO - brooke add columns latitude_dd: latitude decimal degrees. longitude_dd: longitude decimal degrees. sample_url: URL sample GlobalArchive. other_columns: columns present Feather file removed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Metadata from the GlobalArchive API — ga_api_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch metadata for a specific synthesis metadata <- ga_api_metadata(\"your_username\", \"your_password\", synthesis_id = 1234)  # Display the first few rows of metadata head(metadata) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_relief.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","title":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","text":"function retrieves habitat data GlobalArchive synthesis using API call. processes data include relevant species information merging benthic species list.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_relief.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","text":"","code":"ga_api_relief(token, synthesis_id)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_relief.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","text":"token character string representing GlobalArchive token API authentication. synthesis_id character string numeric value representing GlobalArchive synthesis ID habitat data retrieved.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_relief.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","text":"data frame containing habitat data retrieved GlobalArchive API. data frame includes species information merged benthic species list.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_relief.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Relief Data from the GlobalArchive API — ga_api_relief","text":"","code":"if (FALSE) { # \\dontrun{ # Retrieve relief metadata from a synthesis relief <- ga_api_relief(username = \"your_username\", password = \"your_password\",                                     synthesis_id = \"your_synthesis_id\") print(relief) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_set_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Set GlobalArchive API Token — ga_api_set_token","title":"Set GlobalArchive API Token — ga_api_set_token","text":"function prompts user enter GlobalArchive API token, saves RDS file within \"secrets\" directory, optionally adds \"secrets\" directory .gitignore file function run inside Git repository.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_set_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set GlobalArchive API Token — ga_api_set_token","text":"","code":"ga_api_set_token()"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_set_token.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set GlobalArchive API Token — ga_api_set_token","text":"function performs following steps: Prompts user input GlobalArchive API token via console. Creates \"secrets\" directory current working directory already exist. Saves token RDS file named api_token.rds inside \"secrets\" directory. Checks current directory part Git repository (.e., contains .git folder). Git repository, function adds \"secrets/\" directory .gitignore file already listed.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_set_token.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Set GlobalArchive API Token — ga_api_set_token","text":"function intended used projects involving GlobalArchive, sensitive information like API tokens committed version control. Ensure working directory set correctly running function.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_set_token.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set GlobalArchive API Token — ga_api_set_token","text":"","code":"if (FALSE) { # \\dontrun{   # Run the function to set a GlobalArchive API token   ga_api_set_token() } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_species_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Species List from the Global Archive API — ga_api_species_list","title":"Retrieve Species List from the Global Archive API — ga_api_species_list","text":"function retrieves species list GlobalArchive making API call. data returned data frame relevant species information, excluding columns needed analysis.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_species_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Species List from the Global Archive API — ga_api_species_list","text":"","code":"ga_api_species_list(token)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_species_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Species List from the Global Archive API — ga_api_species_list","text":"token character string representing GlobalArchive token API authentication.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_species_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Species List from the Global Archive API — ga_api_species_list","text":"data frame containing species list GlobalArchive. data frame includes following columns: subject: URL identifier species GlobalArchive. australian_common_name: Common name species. family: family species. genus: genus species. species: species name. caab: CAAB (Codes Australian Aquatic Biota) code. other_columns: relevant columns included original dataset.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/ga_api_species_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Species List from the Global Archive API — ga_api_species_list","text":"","code":"if (FALSE) { # \\dontrun{ # Fetch the species list from GlobalArchive species_list <- ga_api_species_list(\"your_username\", \"your_password\")  # Display the first few rows of the species list head(species_list) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/global_life_history.html","id":null,"dir":"Reference","previous_headings":"","what":"Global life-history reference table — global_life_history","title":"Global life-history reference table — global_life_history","text":"reference dataset life-history traits marine taxa used CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/global_life_history.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global life-history reference table — global_life_history","text":"","code":"global_life_history"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/global_life_history.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global life-history reference table — global_life_history","text":"data frame one row per taxon (typically species) columns taxonomic identity one life-history attributes.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/global_life_history.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global life-history reference table — global_life_history","text":"Compiled CheckEM team global life-history reference sources.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/global_life_history.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Global life-history reference table — global_life_history","text":"dataset may used Australian-specific values unavailable, global workflows comparisons.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a String Contains Special Characters — has_special_characters","title":"Check if a String Contains Special Characters — has_special_characters","text":"function checks whether given string contains special characters. Special characters defined character alphanumeric (letters numbers).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a String Contains Special Characters — has_special_characters","text":"","code":"has_special_characters(string)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a String Contains Special Characters — has_special_characters","text":"string character string checked special characters.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a String Contains Special Characters — has_special_characters","text":"logical value: TRUE string contains special characters, FALSE otherwise.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/has_special_characters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if a String Contains Special Characters — has_special_characters","text":"","code":"# Check if a string contains special characters has_special_characters(\"HelloWorld123\") # Returns FALSE #> [1] FALSE has_special_characters(\"Hello@World!\")  # Returns TRUE #> [1] TRUE"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":null,"dir":"Reference","previous_headings":"","what":"hdi_table — hdi_table","title":"hdi_table — hdi_table","text":"Generates summary table species data Highest Density Interval (HDI) statistics comparisons species-specific maximum lengths.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"hdi_table — hdi_table","text":"","code":"hdi_table(species_data, max_lengths)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"hdi_table — hdi_table","text":"species_data dataframe species data, including columns family, genus, species, scientific_name, length_mm (length measurements millimeters). max_lengths dataframe species-specific maximum lengths. must include column scientific_name match species length_max_mm maximum length millimeters.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"hdi_table — hdi_table","text":"dataframe summarizing HDI statistics species, including: family Family species. genus Genus species. species Species name. scientific_name Scientific name species. species_length_max_mm Maximum length (millimeters) provided species-specific data. hdci_99_lower_bound Lower bound 99% HDI species' length measurements. hdci_99_upper_bound Upper bound 99% HDI species' length measurements. num_measurements Number individual length measurements (rows) species. highest_metric Indicates whether maximum length (FishBase) HDI upper bound higher. num_lengths_over_max count lengths exceed species-specific maximum length. num_lengths_over_hdi_upper count lengths exceed 99% HDI upper bound. num_lengths_smaller_hdi_lower count lengths smaller 99% HDI lower bound.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"hdi_table — hdi_table","text":"function calculates HDI statistics (99% interval) species' length data, compares statistics species-specific maximum lengths (provided separately), creates summary dataframe. summary includes family, genus, species, scientific name, species length max, HDI bounds, number individuals measured, metrics like number lengths exceeding max HDI upper bound. function first loops species species_data, calculates 99% HDI using ggdist::median_hdci() function, compares species' maximum length (max_lengths) HDI statistics. appends results species final dataframe.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/hdi_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"hdi_table — hdi_table","text":"","code":"# Example usage species_data <- data.frame(family = c(\"Acanthuridae\"), genus = c(\"Acanthurus\"),                            species = c(\"triostegus\"), scientific_name = c(\"Acanthurus triostegus\"),                            length_mm = c(120, 130, 125, 140, 135, 290, 200, 260, 150, 190, 280)) max_lengths <- data.frame(scientific_name = c(\"Acanthurus triostegus\"), length_max_mm = c(270))  hdi_table(species_data, max_lengths) #>         family      genus    species       scientific_name #> 1 Acanthuridae Acanthurus triostegus Acanthurus triostegus #>   species_length_max_mm hdci_99_lower_bound hdci_99_upper_bound #> 1                   270                 120                 290 #>   num_measurements highest_metric num_lengths_over_max #> 1               11        HDI 99%                    2 #>   num_lengths_over_hdi_upper num_lengths_smaller_hdi_lower #> 1                          0                             0"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/imcra_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"IMCRA regions reference table — imcra_regions","title":"IMCRA regions reference table — imcra_regions","text":"reference table describing IMCRA (Integrated Marine Coastal Regionalisation Australia) regions used CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/imcra_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"IMCRA regions reference table — imcra_regions","text":"","code":"imcra_regions"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/imcra_regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"IMCRA regions reference table — imcra_regions","text":"data frame one row per IMCRA region columns describing region identifiers, names, related metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/imcra_regions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"IMCRA regions reference table — imcra_regions","text":"IMCRA framework compiled use CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/imcra_regions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"IMCRA regions reference table — imcra_regions","text":"Used region-based grouping, validation, reporting.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/load_rds_from_github.html","id":null,"dir":"Reference","previous_headings":"","what":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","title":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","text":"Load RDS File Private GitHub Repository","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/load_rds_from_github.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","text":"","code":"load_rds_from_github(url, pat = NULL)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/load_rds_from_github.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","text":"url Raw URL file (raw.githubusercontent.com/...) pat GitHub Personal Access Token. NULL, tries env vars gitcreds.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/load_rds_from_github.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","text":"R object, NULL available (non-interactive w/PAT) / access denied.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/load_rds_from_github.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load an RDS File from a Private GitHub Repository — load_rds_from_github","text":"","code":"if (FALSE) { # \\dontrun{ rds_url <- \"https://raw.githubusercontent.com/OWNER/REPO/branch/path/file.RDS\" data <- load_rds_from_github(rds_url) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/maturity.html","id":null,"dir":"Reference","previous_headings":"","what":"Maturity reference table — maturity","title":"Maturity reference table — maturity","text":"reference dataset maturity-related information (e.g. length--maturity maturity status categories) used CheckEM.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/maturity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Maturity reference table — maturity","text":"","code":"maturity"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/maturity.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Maturity reference table — maturity","text":"data frame one row per taxon (taxon-region combination) columns describing maturity metrics categories.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/maturity.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Maturity reference table — maturity","text":"Compiled CheckEM team maturity reference sources.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/maturity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Maturity reference table — maturity","text":"Used QA/QC checks /derived summaries maturity information relevant.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_species_hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot length frequency histogram with High Density Interval — plot_species_hdi","title":"Plot length frequency histogram with High Density Interval — plot_species_hdi","text":"function takes data frame standardises column names converting lower case, replacing special characters underscores, ensuring names syntactically valid R names.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_species_hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot length frequency histogram with High Density Interval — plot_species_hdi","text":"","code":"plot_species_hdi(species_data, max_lengths, dir)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_species_hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot length frequency histogram with High Density Interval — plot_species_hdi","text":"species_data data frame length information one species max_lengths data frame lmaximum length information dir Directory plots saved","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_species_hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot length frequency histogram with High Density Interval — plot_species_hdi","text":"Saves plots directory","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_species_hdi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot length frequency histogram with High Density Interval — plot_species_hdi","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr) library(ggplot2) library(ggdist)  # Minimal example data for one species species_data <- tibble::tibble(   scientific_name = rep(\"Lutjanus sebae\", 40),   length_mm = c(     rnorm(35, mean = 420, sd = 40),     rnorm(5,  mean = 650, sd = 10)   ) )  # Maximum length lookup table max_lengths <- tibble::tibble(   scientific_name = \"Lutjanus sebae\",   length_max_mm   = 1000 )  # Temporary output directory out_dir <- tempfile(\"hdi_plot_\") dir.create(out_dir) out_dir <- paste0(out_dir, .Platform$file.sep)  # Run the function plot_species_hdi(   species_data = species_data,   max_lengths  = max_lengths,   dir          = out_dir ) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_transformations.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","title":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","text":"function generates diagnostic plots visualise distribution predictor variables effects basic transformations (square root log transformations) variables. creates scatter plots histograms raw, square root, log-transformed data. function useful exploring suitability different transformations fitting Generalized Additive Model (GAM).","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_transformations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","text":"","code":"plot_transformations(pred.vars, dat)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_transformations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","text":"pred.vars character vector predictor variable names plotted. dat data frame containing predictor variables grouping variable, either 'opcode' 'sample', used scatter plots.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_transformations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","text":"function generates prints diagnostic plots return value.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/plot_transformations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Basic Transformations of Predictor Variables for GAM Modelling — plot_transformations","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat' is a data frame containing the predictor variables and 'opcode' or 'sample' column plot_transformations(pred.vars = c(\"var1\", \"var2\"), dat = dat) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":null,"dir":"Reference","previous_headings":"","what":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","title":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","text":"function reads processes .txt files exported SeaGIS TransectMeasure located specified directory. files contain data dot point measurements, read single dataframe column campaign ID specified sample type (either \"opcode\" \"period\").","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","text":"","code":"read_TM(dir, sample)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","text":"dir directory .txt files saved. sample character string indicating sample type; either \"opcode\" \"period\".","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","text":"dataframe containing combined data .txt files specified directory, including column sample type.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_TM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read .txt Exports from SeaGIS TransectMeasure — read_TM","text":"","code":"if (FALSE) { # \\dontrun{ # To read .txt files with sample recorded as \"opcode\" data <- read_TM(\"path/to/directory\", sample = \"opcode\")  # To read .txt files with sample recorded as \"period\" data <- read_TM(\"path/to/directory\", sample = \"period\") } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","title":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","text":"function reads processes point count data Generic files either CSV TXT format. can handle BRUVs (Baited Remote Underwater Video Systems) DOVs (Diver Operated Video) methods, ensuring data correctly cleaned formatted analysis.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","text":"","code":"read_counts(dir, method = \"BRUVs\", recursive = FALSE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_counts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","text":"dir character string specifying directory containing count files. method character string specifying method used: either \"BRUVs\" \"DOVs\". Defaults \"BRUVs\". recursive logical value indicating whether read files recursively directory. Defaults FALSE.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","text":"data frame containing cleaned formatted count data specified files.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_counts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Count Data from Generic Count Data (_Count.csv) — read_counts","text":"","code":"if (FALSE) { # \\dontrun{ # Read all count files from the directory for BRUVs method counts_data <- read_counts(dir = \"path/to/directory\", method = \"BRUVs\", recursive = TRUE)  # Read all count files from the directory for DOVs method counts_data <- read_counts(dir = \"path/to/directory\", method = \"DOVs\", recursive = TRUE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_em_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","title":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","text":"function reads length 3D point information EventMeasure export files (_3DPoints.txt _Lengths.txt) specified directory processes single dataframe. dataframe includes details length, species, sample, additional metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_em_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","text":"","code":"read_em_length(dir, method = \"BRUVs\", recursive = FALSE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_em_length.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","text":"dir directory EventMeasure length data files located. method character string indicating method used (\"BRUVs\" \"DOVs\"). Default \"BRUVs\". recursive Logical, whether search files recursively subdirectories. Default FALSE.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_em_length.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","text":"data frame containing length data specified files, standardised column names formats.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_em_length.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read EventMeasure length and 3D point data (_3DPoints.txt & _Lengths.txt) — read_em_length","text":"","code":"if (FALSE) { # \\dontrun{ # To read EventMeasure length data from a directory using the BRUVs method length_data <- read_em_length(\"path/to/directory\")  # To read length data from a directory recursively using the DOVs method length_data <- read_em_length(\"path/to/directory\", method = \"DOVs\", recursive = TRUE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_gen_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Read ","title":"Read ","text":"function reads \"Generic\" length data files (either .csv .txt) specified directory processes single data frame. data frame contains information campaignID, sample, length (mm) species information.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_gen_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read ","text":"","code":"read_gen_length(dir, method = \"BRUVs\", recursive = FALSE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_gen_length.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read ","text":"dir directory length data files saved. method character string indicating method used (\"BRUVs\" \"DOVs\"). Default \"BRUVs\". recursive Logical, whether search files recursively subdirectories. Default FALSE.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_gen_length.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read ","text":"data frame containing length data specified files, standardised column names formats.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_gen_length.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read ","text":"","code":"if (FALSE) { # \\dontrun{ # To read length data from a directory using the BRUVs method length_data <- read_gen_length(\"path/to/directory\")  # To read length data from a directory recursively using the DOVs method length_data <- read_gen_length(\"path/to/directory\", method = \"DOVs\", recursive = TRUE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Metadata — read_metadata","title":"Read Metadata — read_metadata","text":"function reads Metadata GlobalArchive format (.csv files) specified directory processes single dataframe. dataframe includes campaignID, sample, depth_m, time, coordinates important information collected deploying annotating stere-video imagery.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Metadata — read_metadata","text":"","code":"read_metadata(dir, method = \"BRUVs\", recursive = FALSE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Metadata — read_metadata","text":"dir directory .csv files saved. method character string indicating method used (\"BRUVs\" \"DOVs\"). Default \"BRUVs\". recursive Logical, whether search files recursively subdirectories. Default FALSE.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Metadata — read_metadata","text":"data frame containing metadata specified files, standardised columns campaignID, sample, various metadata details.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Metadata — read_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # To read metadata from a directory using the BRUVs method metadata <- read_metadata(\"path/to/directory\")  # To read metadata from a directory recursively using the DOVs method metadata <- read_metadata(\"path/to/directory\", method = \"DOVs\", recursive = TRUE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","title":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","text":"function reads EventMeasure period data files (_Period.txt) specified directory processes single dataframe. dataframe contains period annotations, including columns campaignID, sample, relevant information.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","text":"","code":"read_periods(dir, method = \"BRUVs\", recursive = FALSE)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","text":"dir directory .txt files saved. method character string indicating method used (\"BRUVs\" \"DOVs\"). Default \"BRUVs\". recursive Logical, whether search files recursively subdirectories. Default FALSE.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","text":"data frame containing period annotations specified files, standardised columns campaign ID, sample, opcode, period, start time, end time, whether end time.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_periods.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Period Data from EventMeasure files (_Period.txt) — read_periods","text":"","code":"if (FALSE) { # \\dontrun{ # To read period data from a directory using the BRUVs method periods_data <- read_periods(\"path/to/directory\")  # To read period data from a directory recursively using the DOVs method periods_data <- read_periods(\"path/to/directory\", method = \"DOVs\", recursive = TRUE) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_points.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Point Data from EventMeasure files (_Points.txt) — read_points","title":"Read Point Data from EventMeasure files (_Points.txt) — read_points","text":"function reads EventMeasure point data files (_Points.txt) specified directory processes single data frame. data frame contains point annotations, including columns campaignID, sample, relevant information.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_points.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Point Data from EventMeasure files (_Points.txt) — read_points","text":"","code":"read_points(dir, recursive = FALSE, method = \"BRUVs\")"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_points.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Point Data from EventMeasure files (_Points.txt) — read_points","text":"dir directory .txt files saved. recursive Logical, whether search files recursively subdirectories. Default FALSE. method character string indicating method used (\"BRUVs\" \"DOVs\"). Default \"BRUVs\".","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_points.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Point Data from EventMeasure files (_Points.txt) — read_points","text":"data frame containing point annotations specified files, standardised columns campaign ID, sample, family, genus, species, number, period.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/read_points.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Point Data from EventMeasure files (_Points.txt) — read_points","text":"","code":"if (FALSE) { # \\dontrun{ # To read point data from a directory using the BRUVs method points_data <- read_points(\"path/to/directory\")  # To read point data from a directory recursively using the DOVs method points_data <- read_points(\"path/to/directory\", recursive = TRUE, method = \"DOVs\") } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the CheckEM Shiny App Locally — runCheckEM","title":"Run the CheckEM Shiny App Locally — runCheckEM","text":"function launches local version CheckEM Shiny app default web browser. app allows users perform quality control checks metadata annotations fish benthic stereo-imagery datasets.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the CheckEM Shiny App Locally — runCheckEM","text":"","code":"runCheckEM()"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the CheckEM Shiny App Locally — runCheckEM","text":"Launches CheckEM Shiny app web browser.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/runCheckEM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the CheckEM Shiny App Locally — runCheckEM","text":"","code":"if (FALSE) { # \\dontrun{ # To run the CheckEM Shiny app locally CheckEM::runCheckEM() } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize Column Names and Types in a Tibble — standardize_tibble","title":"Standardize Column Names and Types in a Tibble — standardize_tibble","text":"function standardizes column names types given tibble. renames columns consistent set names: \"aphiaid\", \"scientific_name\", \"authority\", \"status\". tibble empty, also ensures \"scientific_name\" column type character.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize Column Names and Types in a Tibble — standardize_tibble","text":"","code":"standardize_tibble(tibble)"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize Column Names and Types in a Tibble — standardize_tibble","text":"tibble tibble data frame standardize.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize Column Names and Types in a Tibble — standardize_tibble","text":"tibble standardized column names types, NULL input tibble empty.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/standardize_tibble.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize Column Names and Types in a Tibble — standardize_tibble","text":"","code":"if (FALSE) { # \\dontrun{ # Create a sample tibble sample_data <- tibble::tibble(aphiaid = c(1, 2), sci_name = c(\"Species A\", \"Species B\"),                                auth = c(\"Author A\", \"Author B\"), stat = c(\"Valid\", \"Invalid\"))  # Standardize the tibble standardized_data <- standardize_tibble(sample_data) print(standardized_data) } # }"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/world_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"World marine regions reference table — world_regions","title":"World marine regions reference table — world_regions","text":"reference table world marine regions used CheckEM global grouping, mapping, reporting.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/world_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"World marine regions reference table — world_regions","text":"","code":"world_regions"},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/world_regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"World marine regions reference table — world_regions","text":"data frame one row per region one columns describing region name/identifier related metadata.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/world_regions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"World marine regions reference table — world_regions","text":"Compiled CheckEM team global marine region frameworks.","code":""},{"path":"https://globalarchivemanual.github.io/CheckEM/reference/world_regions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"World marine regions reference table — world_regions","text":"dataset may include region names languages English. see R CMD check warnings non-ASCII strings dataset, ensure saved UTF-8 encoding (consider transliteration strict ASCII required).","code":""}]
