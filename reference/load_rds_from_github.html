<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load an RDS File from a Private GitHub Repository — load_rds_from_github • CheckEM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load an RDS File from a Private GitHub Repository — load_rds_from_github"><meta name="description" content="This function loads an RDS file from a private GitHub repository. It uses a provided or interactive GitHub
Personal Access Token (PAT). If the PAT is not provided, the function will try to retrieve it using gitcreds
or prompt the user to enter it manually. It also checks if the user has access to the repository and provides
instructions for requesting access if needed."><meta property="og:description" content="This function loads an RDS file from a private GitHub repository. It uses a provided or interactive GitHub
Personal Access Token (PAT). If the PAT is not provided, the function will try to retrieve it using gitcreds
or prompt the user to enter it manually. It also checks if the user has access to the repository and provides
instructions for requesting access if needed."><meta property="og:image" content="https://globalarchivemanual.github.io/CheckEM/logo.png"><!-- Global site tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XRY4CFB9QS"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XRY4CFB9QS');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CheckEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-user-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">User Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-user-guides"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Field Manuals</h6></li>
    <li><a class="external-link dropdown-item" href="https://benthic-bruvs-field-manual.github.io/">Baited Remote Underwater Stereo-video (stereo-BRUVs)</a></li>
    <li><a class="external-link dropdown-item" href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.13189">Diver Operated Stereo-video (stereo-DOVs)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Annotation Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/manuals/EventMeasure_annotation_guide.html">Fish annotation guide (EventMeasure)</a></li>
    <li><a class="dropdown-item" href="../articles/manuals/TransectMeasure_annotation_guide.html">Benthos annotation guide (TransectMeasure)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>CheckEM Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/manuals/CheckEM_user_guide.html">CheckEM PDF user manual</a></li>
    <li><a class="dropdown-item" href="../articles/manuals/CheckEM_video.html">CheckEM instructional video</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-r-workflows" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">R Workflows</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-r-workflows"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Check Data</h6></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/check-habitat.html">Check habitat data from TransectMeasure</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/check-fish-point.html">Check fish data from single point based methods</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/check-fish-transect.html">Check fish data from transect based methods</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Format Data</h6></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/spatial-layers.html">Generate spatial layers for modelling</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/format-visualise-habitat.html">Format &amp; visualise habitat data</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/format-visualise-fish.html">Format &amp; visualise fish data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Modelling</h6></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/habitat-modelling.html">Generate spatial predictions of habitat using FSSgam</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/fish-modelling.html">Select top models for fish using FSSgam</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/fish-predictions.html">Generate Generalized Additive Model predictions of fish</a></li>
    <li><a class="dropdown-item" href="../articles/r-workflows/fish-spatial-prediction.html">Spatially predict fish distributions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/GlobalArchiveManual/CheckEM"><span class="fa fa-github"></span> GitHub</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.nespmarinecoastal.edu.au/">ARDC</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Load an RDS File from a Private GitHub Repository</h1>

      <div class="d-none name"><code>load_rds_from_github.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function loads an RDS file from a private GitHub repository. It uses a provided or interactive GitHub
Personal Access Token (PAT). If the PAT is not provided, the function will try to retrieve it using <code>gitcreds</code>
or prompt the user to enter it manually. It also checks if the user has access to the repository and provides
instructions for requesting access if needed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">load_rds_from_github</span><span class="op">(</span><span class="va">url</span>, pat <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>A character string specifying the raw URL to the RDS file in the private GitHub repository.</p></dd>


<dt id="arg-pat">pat<a class="anchor" aria-label="anchor" href="#arg-pat"></a></dt>
<dd><p>A character string containing the GitHub Personal Access Token (PAT) with access to the repository.
If not provided, the function will attempt to retrieve it using <code>gitcreds</code> or prompt the user to enter it.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The content of the RDS file as an R object, or <code>NULL</code> if access is denied or if the file cannot be loaded.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If the PAT is not provided, the function will attempt to retrieve it from <code>gitcreds</code>. If <code>gitcreds</code> does not
provide a PAT, the user will be prompted to enter one manually. If the function encounters a 404 status code,
it will inform the user to contact Brooke Gibbons at brooke.gibbons@uwa.edu.au with their GitHub username to request
access to the repository.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Define the URL to the RDS file in your private GitHub repository</span></span></span>
<span class="r-in"><span><span class="va">rds_url</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/GlobalArchiveManual/australia-synthesis-2024/main/data/tidy/australian-synthesis_covariates.RDS"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Call the function to load the RDS file</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">load_rds_from_github</span><span class="op">(</span><span class="va">rds_url</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in GET(url, authenticate("", pat, type = "basic")):</span> could not find function "GET"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print or work with the data</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (..., list = character(), package = NULL, lib.loc = NULL, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     verbose = getOption("verbose"), envir = .GlobalEnv, overwrite = TRUE) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     fileExt &lt;- function(x) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         db &lt;- grepl("\\.[^.]+\\.(gz|bz2|xz)$", x)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ans &lt;- sub(".*\\.", "", x)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ans[db] &lt;- sub(".*\\.([^.]+\\.)(gz|bz2|xz)$", "\\1\\2", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x[db])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         ans</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     my_read_table &lt;- function(...) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         lcc &lt;- Sys.getlocale("LC_COLLATE")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         on.exit(Sys.setlocale("LC_COLLATE", lcc))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Sys.setlocale("LC_COLLATE", "C")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         read.table(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     stopifnot(is.character(list))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     names &lt;- c(as.character(substitute(list(...))[-1L]), list)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if (!is.null(package)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         if (!is.character(package)) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             stop("'package' must be a character vector or NULL")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     paths &lt;- find.package(package, lib.loc, verbose = verbose)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if (is.null(lib.loc)) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         paths &lt;- c(path.package(package, TRUE), if (!length(package)) getwd(), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             paths)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     paths &lt;- unique(normalizePath(paths[file.exists(paths)]))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     paths &lt;- paths[dir.exists(file.path(paths, "data"))]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     dataExts &lt;- tools:::.make_file_exts("data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if (length(names) == 0L) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         db &lt;- matrix(character(), nrow = 0L, ncol = 4L)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         for (path in paths) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             entries &lt;- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             packageName &lt;- if (file_test("-f", file.path(path, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "DESCRIPTION"))) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 basename(path)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             else "."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (file_test("-f", INDEX &lt;- file.path(path, "Meta", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "data.rds"))) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 entries &lt;- readRDS(INDEX)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             else {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 dataDir &lt;- file.path(path, "data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 entries &lt;- tools::list_files_with_type(dataDir, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   "data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 if (length(entries)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   entries &lt;- unique(tools::file_path_sans_ext(basename(entries)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   entries &lt;- cbind(entries, "")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (NROW(entries)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 if (is.matrix(entries) &amp;&amp; ncol(entries) == 2L) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   db &lt;- rbind(db, cbind(packageName, dirname(path), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     entries))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 else warning(gettextf("data index for package %s is invalid and will be ignored", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   sQuote(packageName)), domain = NA, call. = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         colnames(db) &lt;- c("Package", "LibPath", "Item", "Title")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         footer &lt;- if (missing(package)) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             paste0("Use ", sQuote(paste("data(package =", ".packages(all.available = TRUE))")), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "\n", "to list the data sets in all *available* packages.")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         else NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         y &lt;- list(title = "Data sets", header = NULL, results = db, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             footer = footer)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         class(y) &lt;- "packageIQR"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         return(y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     paths &lt;- file.path(paths, "data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     for (name in names) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         found &lt;- FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         for (p in paths) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             tmp_env &lt;- if (overwrite) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 envir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             else new.env()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (file_test("-f", file.path(p, "Rdata.rds"))) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 rds &lt;- readRDS(file.path(p, "Rdata.rds"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 if (name %in% names(rds)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   found &lt;- TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   if (verbose) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     message(sprintf("name=%s:\t found in Rdata.rds", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       name), domain = NA)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   thispkg &lt;- sub(".*/([^/]*)/data$", "\\1", p)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   thispkg &lt;- sub("_.*$", "", thispkg)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   thispkg &lt;- paste0("package:", thispkg)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   objs &lt;- rds[[name]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   lazyLoad(file.path(p, "Rdata"), envir = tmp_env, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     filter = function(x) x %in% objs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   break</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 else if (verbose) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   message(sprintf("name=%s:\t NOT found in names() of Rdata.rds, i.e.,\n\t%s\n", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     name, paste(names(rds), collapse = ",")), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     domain = NA)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             files &lt;- list.files(p, full.names = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             files &lt;- files[grep(name, files, fixed = TRUE)]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (length(files) &gt; 1L) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 o &lt;- match(fileExt(files), dataExts, nomatch = 100L)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 paths0 &lt;- dirname(files)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 paths0 &lt;- factor(paths0, levels = unique(paths0))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 files &lt;- files[order(paths0, o)]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (length(files)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 for (file in files) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   if (verbose) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     message("name=", name, ":\t file= ...", .Platform$file.sep, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       basename(file), "::\t", appendLF = FALSE, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       domain = NA)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   ext &lt;- fileExt(file)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   if (basename(file) != paste0(name, ".", ext)) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     found &lt;- FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   else {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     found &lt;- TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     switch(ext, R = , r = {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       library("utils")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       sys.source(file, chdir = TRUE, envir = tmp_env)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     }, RData = , rdata = , rda = load(file, envir = tmp_env), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       TXT = , txt = , tab = , tab.gz = , tab.bz2 = , </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       tab.xz = , txt.gz = , txt.bz2 = , txt.xz = assign(name, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         my_read_table(file, header = TRUE, as.is = FALSE), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         envir = tmp_env), CSV = , csv = , csv.gz = , </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       csv.bz2 = , csv.xz = assign(name, my_read_table(file, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         header = TRUE, sep = ";", as.is = FALSE), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         envir = tmp_env), found &lt;- FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   if (found) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     break</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 if (verbose) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   message(if (!found) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     "*NOT* ", "found", domain = NA)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (found) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 break</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         if (!found) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             warning(gettextf("data set %s not found", sQuote(name)), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 domain = NA)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         else if (!overwrite) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             for (o in ls(envir = tmp_env, all.names = TRUE)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 if (exists(o, envir = envir, inherits = FALSE)) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   warning(gettextf("an object named %s already exists and will not be overwritten", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     sQuote(o)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 else assign(o, get(o, envir = tmp_env, inherits = FALSE), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   envir = envir)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             rm(tmp_env)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     invisible(names)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x556976ece0a8&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: namespace:utils&gt;</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p><img src="https://ardc.edu.au/wp-content/uploads/2022/09/ardc-logo.svg" height="60" alt="ARDC">    <img src="https://www.nespmarinecoastal.edu.au/wp-content/themes/MarineAndCoastalHubTheme/images/logo.svg" height="70" alt="National Environmental Science Program: Marine and Coastal">     Package developed by Brooke Gibbons, Claude Spencer, Tim Langlois.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

